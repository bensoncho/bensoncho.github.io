(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function yS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vd={exports:{}},El={};var W_;function _S(){if(W_)return El;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return El.Fragment=t,El.jsx=n,El.jsxs=n,El}var tv;function vS(){return tv||(tv=1,Vd.exports=_S()),Vd.exports}var Q=vS(),kd={exports:{}},vt={};var ev;function TS(){if(ev)return vt;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ct(M,K,nt){this.props=M,this.context=K,this.refs=J,this.updater=nt||Z}ct.prototype.isReactComponent={},ct.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ct.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function yt(){}yt.prototype=ct.prototype;function ft(M,K,nt){this.props=M,this.context=K,this.refs=J,this.updater=nt||Z}var Ut=ft.prototype=new yt;Ut.constructor=ft,et(Ut,ct.prototype),Ut.isPureReactComponent=!0;var Kt=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,K,nt){var st=nt.ref;return{$$typeof:r,type:M,key:K,ref:st!==void 0?st:null,props:nt}}function x(M,K){return I(M.type,K,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return K[nt]})}var b=/\/+/g;function qt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Mt,Mt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,nt,st,gt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=M._init,H(Vt(M._payload),K,nt,st,gt)}}if(Vt)return gt=gt(M),Vt=st===""?"."+qt(M,0):st,Kt(gt)?(nt="",Vt!=null&&(nt=Vt.replace(b,"$&/")+"/"),H(gt,K,nt,"",function(as){return as})):gt!=null&&(O(gt)&&(gt=x(gt,nt+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(b,"$&/")+"/")+Vt)),K.push(gt)),1;Vt=0;var Oe=st===""?".":st+":";if(Kt(M))for(var se=0;se<M.length;se++)st=M[se],St=Oe+qt(st,se),Vt+=H(st,K,nt,St,gt);else if(se=B(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,St=Oe+qt(st,se++),Vt+=H(st,K,nt,St,gt);else if(St==="object"){if(typeof M.then=="function")return H(he(M),K,nt,st,gt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(M,K,nt){if(M==null)return M;var st=[],gt=0;return H(M,st,"","",function(St){return K.call(nt,St,gt++)}),st}function ht(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:tt,forEach:function(M,K,nt){tt(M,function(){K.apply(this,arguments)},nt)},count:function(M){var K=0;return tt(M,function(){K++}),K},toArray:function(M){return tt(M,function(K){return K})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=S,vt.Children=Ft,vt.Component=ct,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=ft,vt.StrictMode=s,vt.Suspense=g,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,K,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=et({},M.props),gt=M.key;if(K!=null)for(St in K.key!==void 0&&(gt=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Vt=Array(St),Oe=0;Oe<St;Oe++)Vt[Oe]=arguments[Oe+2];st.children=Vt}return I(M.type,gt,st)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},vt.createElement=function(M,K,nt){var st,gt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)w.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=K[st]);var Vt=arguments.length-2;if(Vt===1)gt.children=nt;else if(1<Vt){for(var Oe=Array(Vt),se=0;se<Vt;se++)Oe[se]=arguments[se+2];gt.children=Oe}if(M&&M.defaultProps)for(st in Vt=M.defaultProps,Vt)gt[st]===void 0&&(gt[st]=Vt[st]);return I(M,St,gt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:p,render:M}},vt.isValidElement=O,vt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ht}},vt.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},vt.startTransition=function(M){var K=C.T,nt={};C.T=nt;try{var st=M(),gt=C.S;gt!==null&&gt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,Lt)}catch(St){Lt(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(M){return C.H.use(M)},vt.useActionState=function(M,K,nt){return C.H.useActionState(M,K,nt)},vt.useCallback=function(M,K){return C.H.useCallback(M,K)},vt.useContext=function(M){return C.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,K){return C.H.useDeferredValue(M,K)},vt.useEffect=function(M,K){return C.H.useEffect(M,K)},vt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(M,K,nt){return C.H.useImperativeHandle(M,K,nt)},vt.useInsertionEffect=function(M,K){return C.H.useInsertionEffect(M,K)},vt.useLayoutEffect=function(M,K){return C.H.useLayoutEffect(M,K)},vt.useMemo=function(M,K){return C.H.useMemo(M,K)},vt.useOptimistic=function(M,K){return C.H.useOptimistic(M,K)},vt.useReducer=function(M,K,nt){return C.H.useReducer(M,K,nt)},vt.useRef=function(M){return C.H.useRef(M)},vt.useState=function(M){return C.H.useState(M)},vt.useSyncExternalStore=function(M,K,nt){return C.H.useSyncExternalStore(M,K,nt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.1",vt}var nv;function Nm(){return nv||(nv=1,kd.exports=TS()),kd.exports}var Wt=Nm();const ES=yS(Wt);var Ud={exports:{}},Al={},Ld={exports:{}},Pd={};var iv;function AS(){return iv||(iv=1,(function(r){function t(H,tt){var ht=H.length;H.push(tt);t:for(;0<ht;){var Lt=ht-1>>>1,Ft=H[Lt];if(0<l(Ft,tt))H[Lt]=tt,H[ht]=Ft,ht=Lt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ht=H.pop();if(ht!==tt){H[0]=ht;t:for(var Lt=0,Ft=H.length,M=Ft>>>1;Lt<M;){var K=2*(Lt+1)-1,nt=H[K],st=K+1,gt=H[st];if(0>l(nt,ht))st<Ft&&0>l(gt,nt)?(H[Lt]=gt,H[st]=ht,Lt=st):(H[Lt]=nt,H[K]=ht,Lt=K);else if(st<Ft&&0>l(gt,ht))H[Lt]=gt,H[st]=ht,Lt=st;else break t}}return tt}function l(H,tt){var ht=H.sortIndex-tt.sortIndex;return ht!==0?ht:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,S=null,D=3,B=!1,Z=!1,et=!1,J=!1,ct=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var tt=n(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=H)s(y),tt.sortIndex=tt.expirationTime,t(g,tt);else break;tt=n(y)}}function Kt(H){if(et=!1,Ut(H),!Z)if(n(g)!==null)Z=!0,Mt||(Mt=!0,k());else{var tt=n(y);tt!==null&&he(Kt,tt.startTime-H)}}var Mt=!1,C=-1,w=5,I=-1;function x(){return J?!0:!(r.unstable_now()-I<w)}function O(){if(J=!1,Mt){var H=r.unstable_now();I=H;var tt=!0;try{t:{Z=!1,et&&(et=!1,yt(C),C=-1),B=!0;var ht=D;try{e:{for(Ut(H),S=n(g);S!==null&&!(S.expirationTime>H&&x());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,D=S.priorityLevel;var Ft=Lt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Ft=="function"){S.callback=Ft,Ut(H),tt=!0;break e}S===n(g)&&s(g),Ut(H)}else s(g);S=n(g)}if(S!==null)tt=!0;else{var M=n(y);M!==null&&he(Kt,M.startTime-H),tt=!1}}break t}finally{S=null,D=ht,B=!1}tt=void 0}}finally{tt?k():Mt=!1}}}var k;if(typeof ft=="function")k=function(){ft(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,qt=b.port2;b.port1.onmessage=O,k=function(){qt.postMessage(null)}}else k=function(){ct(O,0)};function he(H,tt){C=ct(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ht=D;D=tt;try{return H()}finally{D=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=D;D=H;try{return tt()}finally{D=ht}},r.unstable_scheduleCallback=function(H,tt,ht){var Lt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,H={id:E++,callback:tt,priorityLevel:H,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Lt?(H.sortIndex=ht,t(y,H),n(g)===null&&H===n(y)&&(et?(yt(C),C=-1):et=!0,he(Kt,ht-Lt))):(H.sortIndex=Ft,t(g,H),Z||B||(Z=!0,Mt||(Mt=!0,k()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var tt=D;return function(){var ht=D;D=tt;try{return H.apply(this,arguments)}finally{D=ht}}}})(Pd)),Pd}var rv;function SS(){return rv||(rv=1,Ld.exports=AS()),Ld.exports}var zd={exports:{}},Ke={};var sv;function bS(){if(sv)return Ke;sv=1;var r=Nm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ke.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.1",Ke}var av;function wS(){if(av)return zd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=bS(),zd.exports}var ov;function RS(){if(ov)return Al;ov=1;var r=SS(),t=Nm(),n=wS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case J:return"StrictMode";case Kt:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ft:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:qt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return qt(e(i))}catch{}}return null}var he=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Ft=-1;function M(e){return{current:e}}function K(e){0>Ft||(e.current=Lt[Ft],Lt[Ft]=null,Ft--)}function nt(e,i){Ft++,Lt[Ft]=e.current,e.current=i}var st=M(null),gt=M(null),St=M(null),Vt=M(null);function Oe(e,i){switch(nt(St,i),nt(gt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=A_(i),e=S_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function se(){K(st),K(gt),K(St)}function as(e){e.memoizedState!==null&&nt(Vt,e);var i=st.current,a=S_(i,e.type);i!==a&&(nt(gt,e),nt(st,a))}function ta(e){gt.current===e&&(K(st),K(gt)),Vt.current===e&&(K(Vt),yl._currentValue=ht)}var ea,na;function si(e){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var yo=!1;function os(e,i){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var R=_.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function _o(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return si("Activity");default:return""}}function vo(e){try{var i="",a=null;do i+=_o(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,kh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,We=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,jn=null,ze=null;function wn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:ru,iu=Math.log,ia=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(iu(e)/ia|0)|0}var ai=256,us=262144,ve=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=oi(o):(_&=T,_!==0?h=oi(_):a||(a=T&~e,a!==0&&(h=oi(a))))):(T=o&~f,T!==0?h=oi(T):_!==0?h=oi(_):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Lh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function cs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-fe(a),Y=1<<F;T[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&hs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function hs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function So(e,i){var a=i&-i;return a=(a&42)!==0?1:fs(a),(a&(e.suspendedLanes|i))!==0?0:a}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Q_(e.type))}function qn(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Hn,ke="__reactProps$"+Hn,ci="__reactContainer$"+Hn,ra="__reactEvents$"+Hn,zh="__reactListeners$"+Hn,ou="__reactHandles$"+Hn,lu="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function sa(e){delete e[Te],delete e[ke],delete e[ra],delete e[zh],delete e[ou]}function fi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=N_(e);e!==null;){if(a=e[Te])return a;e=N_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Te]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function di(e){var i=e[lu];return i||(i=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[hi]=!0}var bo=new Set,wo={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(wo[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function uu(e){return _e.call(Co,e)?!0:_e.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,i,a){if(uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gt(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=Do(e,i,""+e[i])}}function ds(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function rn(e){return e.replace(ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(e,i,a,o,h,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?No(e,_,Ue(i)):a!=null?No(e,_,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ue(T):e.removeAttribute("name")}function cu(e,i,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Gt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Gt(e)}function No(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function hu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function fr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(he(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||fu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Oo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Oo(e,f,i[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var xo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,yi=null;function ps(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ds(o)}break t;case"textarea":hu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var ca=!1;function pr(e,i,a){if(ca)return e(i,a);ca=!0;try{var o=e(i);return o}finally{if(ca=!1,(mr!==null||yi!==null)&&(ac(),mr&&(i=mr,e=yi,yi=mr=null,ps(i),e)))for(i=0;i<e.length;i++)ps(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Cn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{gs=!1}var _i=null,Vo=null,ys=null;function ko(){if(ys)return ys;var e,i=Vo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return ys=h.slice(e,1<o?1-o:void 0)}function _s(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Qn(){return!1}function je(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=je(Pi),gr=S({},Pi,{view:0,detail:0}),Uo=je(gr),yr,ha,Ti,fa=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(yr=e.screenX-Ti.screenX,ha=e.screenY-Ti.screenY):ha=yr=0,Ti=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=je(fa),vs=S({},fa,{dataTransfer:0}),mu=je(vs),pu=S({},gr,{relatedTarget:0}),Ts=je(pu),Po=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=je(Po),da=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=je(da),_u=S({},Pi,{data:0}),Ei=je(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eu[e])?!!i[e]:!1}function _r(){return Au}var tn=S({},gr,{key:function(e){if(e.key){var i=vu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=je(tn),bu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=je(bu),c=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=je(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),U=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(U),W=S({},Pi,{newState:0,oldState:0}),Et=je(W),de=[9,13,27,32],jt=Cn&&"CompositionEvent"in window,ae=null;Cn&&"documentMode"in document&&(ae=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!ae,Ai=Cn&&(!jt||ae&&8<ae&&11>=ae),Yn=" ",Kn=!1;function Es(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function B1(e,i){switch(e){case"compositionend":return ma(i);case"keypress":return i.which!==32?null:(Kn=!0,Yn);case"textInput":return e=i.data,e===Yn&&Kn?null:e;default:return null}}function q1(e,i){if(pa)return e==="compositionend"||!jt&&Es(e,i)?(e=ko(),ys=Vo=_i=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!H1[e.type]:i==="textarea"}function Vp(e,i,a,o){mr?yi?yi.push(o):yi=[o]:mr=o,i=dc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var zo=null,jo=null;function F1(e){g_(e,0)}function wu(e){var i=mn(e);if(ds(i))return e}function kp(e,i){if(e==="change")return i}var Up=!1;if(Cn){var jh;if(Cn){var Bh="oninput"in document;if(!Bh){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Bh=typeof Lp.oninput=="function"}jh=Bh}else jh=!1;Up=jh&&(!document.documentMode||9<document.documentMode)}function Pp(){zo&&(zo.detachEvent("onpropertychange",zp),jo=zo=null)}function zp(e){if(e.propertyName==="value"&&wu(jo)){var i=[];Vp(i,jo,e,In(e)),pr(F1,i)}}function G1(e,i,a){e==="focusin"?(Pp(),zo=i,jo=a,zo.attachEvent("onpropertychange",zp)):e==="focusout"&&Pp()}function Q1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(jo)}function Y1(e,i){if(e==="click")return wu(i)}function K1(e,i){if(e==="input"||e==="change")return wu(i)}function X1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:X1;function Bo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bp(e,i){var a=jp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jp(a)}}function qp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?qp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function qh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var $1=Cn&&"documentMode"in document&&11>=document.documentMode,ga=null,Hh=null,qo=null,Fh=!1;function Fp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||ga==null||ga!==gi(o)||(o=ga,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=dc(Hh,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ga)))}function As(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Gh={},Gp={};Cn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ss(e){if(Gh[e])return Gh[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gp)return Gh[e]=i[a];return e}var Qp=Ss("animationend"),Yp=Ss("animationiteration"),Kp=Ss("animationstart"),Z1=Ss("transitionrun"),J1=Ss("transitionstart"),W1=Ss("transitioncancel"),Xp=Ss("transitionend"),$p=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Xn(e,i){$p.set(e,i),mi(i,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],_a=0,Yh=0;function Iu(){for(var e=_a,i=Yh=_a=0;i<e;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var f=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function Cu(e,i,a,o){Nn[_a++]=e,Nn[_a++]=i,Nn[_a++]=a,Nn[_a++]=o,Yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,i,a,o){return Cu(e,i,a,o),Du(e)}function bs(e,i){return Cu(e,null,null,i),Du(e)}function Zp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Du(e){if(50<cl)throw cl=0,rd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function tA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,o){return new tA(e,i,a,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Nu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")Xh(e)&&(_=1);else if(typeof e=="string")_=sS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,i,h),e.elementType=I,e.lanes=f,e;case et:return ws(a.children,h,f,i);case J:_=8,h|=24;break;case ct:return e=yn(12,a,i,h|2),e.elementType=ct,e.lanes=f,e;case Kt:return e=yn(13,a,i,h),e.elementType=Kt,e.lanes=f,e;case Mt:return e=yn(19,a,i,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:_=10;break t;case yt:_=9;break t;case Ut:_=11;break t;case C:_=14;break t;case w:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=yn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function ws(e,i,a,o){return e=yn(7,e,o,i),e.lanes=a,e}function $h(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function Wp(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function Zh(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var tg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=tg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:vo(i)},tg.set(e,i),i)}return{value:e,source:i,stack:vo(i)}}var Ta=[],Ea=0,Ou=null,Ho=0,Mn=[],xn=0,vr=null,Si=1,bi="";function Bi(e,i){Ta[Ea++]=Ho,Ta[Ea++]=Ou,Ou=e,Ho=i}function eg(e,i,a){Mn[xn++]=Si,Mn[xn++]=bi,Mn[xn++]=vr,vr=e;var o=Si;e=bi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Si=1<<32-fe(i)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function Jh(e){e.return!==null&&(Bi(e,1),eg(e,1,0))}function Wh(e){for(;e===Ou;)Ou=Ta[--Ea],Ta[Ea]=null,Ho=Ta[--Ea],Ta[Ea]=null;for(;e===vr;)vr=Mn[--xn],Mn[xn]=null,bi=Mn[--xn],Mn[xn]=null,Si=Mn[--xn],Mn[xn]=null}function ng(e,i){Mn[xn++]=Si,Mn[xn++]=bi,Mn[xn++]=vr,Si=i.id,bi=i.overflow,vr=e}var Be=null,ne=null,xt=!1,Tr=null,Vn=!1,tf=Error(s(519));function Er(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(On(i,e)),tf}function ig(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[ke]=o,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Rt(fl[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),cu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),fr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||T_(i.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),o.onScroll!=null&&Rt("scroll",i),o.onScrollEnd!=null&&Rt("scrollend",i),o.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Er(e,!0)}function rg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function Aa(e){if(e!==Be)return!1;if(!xt)return rg(e),xt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vd(e.type,e.memoizedProps)),a=!a),a&&ne&&Er(e),rg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=D_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=D_(e)}else i===27?(i=ne,kr(e.type)?(e=bd,bd=null,ne=e):ne=i):ne=Be?Un(e.stateNode.nextSibling):null;return!0}function Rs(){ne=Be=null,xt=!1}function ef(){var e=Tr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Tr=null),e}function Fo(e){Tr===null?Tr=[e]:Tr.push(e)}var nf=M(null),Is=null,qi=null;function Ar(e,i,a){nt(nf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=nf.current,K(nf)}function rf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function sf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),rf(f.return,a,e),o||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),rf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Sa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&sf(i,e,a,o),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return sg(Is,e)}function xu(e,i){return Is===null&&Cs(e),sg(e,i)}function sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var eA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},nA=r.unstable_scheduleCallback,iA=r.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new eA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&nA(iA,function(){e.controller.abort()})}var Qo=null,of=0,ba=0,wa=null;function rA(e,i){if(Qo===null){var a=Qo=[];of=0,ba=cd(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return of++,i.then(ag,ag),i}function ag(){if(--of===0&&Qo!==null){wa!==null&&(wa.status="fulfilled");var e=Qo;Qo=null,ba=0,wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function sA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var og=H.S;H.S=function(e,i){Fy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rA(e,i),og!==null&&og(e,i)};var Ds=M(null);function lf(){var e=Ds.current;return e!==null?e:te.pooledCache}function Vu(e,i){i===null?nt(Ds,Ds.current):nt(Ds,i.pool)}function lg(){var e=lf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ra=Error(s(460)),uf=Error(s(474)),ku=Error(s(542)),Uu={then:function(){}};function ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,fg(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,fg(e),e}throw Os=i,Ra}}function Ns(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Ra):a}}var Os=null;function hg(){if(Os===null)throw Error(s(459));var e=Os;return Os=null,e}function fg(e){if(e===Ra||e===ku)throw Error(s(483))}var Ia=null,Yo=0;function Lu(e){var i=Yo;return Yo+=1,Ia===null&&(Ia=[]),cg(Ia,e,i)}function Ko(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Pu(e,i){throw i.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function dg(e){function i(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function a(V,N){if(!e)return null;for(;N!==null;)i(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=ji(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,N,L,G){return N===null||N.tag!==6?(N=$h(L,V.mode,G),N.return=V,N):(N=h(N,L),N.return=V,N)}function R(V,N,L,G){var lt=L.type;return lt===et?F(V,N,L.props.children,G,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Ns(lt)===N.type)?(N=h(N,L.props),Ko(N,L),N.return=V,N):(N=Nu(L.type,L.key,L.props,null,V.mode,G),Ko(N,L),N.return=V,N)}function P(V,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Zh(L,V.mode,G),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function F(V,N,L,G,lt){return N===null||N.tag!==7?(N=ws(L,V.mode,G,lt),N.return=V,N):(N=h(N,L),N.return=V,N)}function Y(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return L=Nu(N.type,N.key,N.props,null,V.mode,L),Ko(L,N),L.return=V,L;case Z:return N=Zh(N,V.mode,L),N.return=V,N;case w:return N=Ns(N),Y(V,N,L)}if(he(N)||k(N))return N=ws(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return Y(V,Lu(N),L);if(N.$$typeof===ft)return Y(V,xu(V,N),L);Pu(V,N)}return null}function z(V,N,L,G){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:T(V,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===lt?R(V,N,L,G):null;case Z:return L.key===lt?P(V,N,L,G):null;case w:return L=Ns(L),z(V,N,L,G)}if(he(L)||k(L))return lt!==null?null:F(V,N,L,G,null);if(typeof L.then=="function")return z(V,N,Lu(L),G);if(L.$$typeof===ft)return z(V,N,xu(V,L),G);Pu(V,L)}return null}function q(V,N,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(L)||null,T(N,V,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return V=V.get(G.key===null?L:G.key)||null,R(N,V,G,lt);case Z:return V=V.get(G.key===null?L:G.key)||null,P(N,V,G,lt);case w:return G=Ns(G),q(V,N,L,G,lt)}if(he(G)||k(G))return V=V.get(L)||null,F(N,V,G,lt,null);if(typeof G.then=="function")return q(V,N,L,Lu(G),lt);if(G.$$typeof===ft)return q(V,N,L,xu(N,G),lt);Pu(N,G)}return null}function at(V,N,L,G){for(var lt=null,Pt=null,ot=N,bt=N=0,Ct=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var zt=z(V,ot,L[bt],G);if(zt===null){ot===null&&(ot=Ct);break}e&&ot&&zt.alternate===null&&i(V,ot),N=f(zt,N,bt),Pt===null?lt=zt:Pt.sibling=zt,Pt=zt,ot=Ct}if(bt===L.length)return a(V,ot),xt&&Bi(V,bt),lt;if(ot===null){for(;bt<L.length;bt++)ot=Y(V,L[bt],G),ot!==null&&(N=f(ot,N,bt),Pt===null?lt=ot:Pt.sibling=ot,Pt=ot);return xt&&Bi(V,bt),lt}for(ot=o(ot);bt<L.length;bt++)Ct=q(ot,V,bt,L[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),Pt===null?lt=Ct:Pt.sibling=Ct,Pt=Ct);return e&&ot.forEach(function(jr){return i(V,jr)}),xt&&Bi(V,bt),lt}function dt(V,N,L,G){if(L==null)throw Error(s(151));for(var lt=null,Pt=null,ot=N,bt=N=0,Ct=null,zt=L.next();ot!==null&&!zt.done;bt++,zt=L.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var jr=z(V,ot,zt.value,G);if(jr===null){ot===null&&(ot=Ct);break}e&&ot&&jr.alternate===null&&i(V,ot),N=f(jr,N,bt),Pt===null?lt=jr:Pt.sibling=jr,Pt=jr,ot=Ct}if(zt.done)return a(V,ot),xt&&Bi(V,bt),lt;if(ot===null){for(;!zt.done;bt++,zt=L.next())zt=Y(V,zt.value,G),zt!==null&&(N=f(zt,N,bt),Pt===null?lt=zt:Pt.sibling=zt,Pt=zt);return xt&&Bi(V,bt),lt}for(ot=o(ot);!zt.done;bt++,zt=L.next())zt=q(ot,V,bt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?bt:zt.key),N=f(zt,N,bt),Pt===null?lt=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(gS){return i(V,gS)}),xt&&Bi(V,bt),lt}function Jt(V,N,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===et){if(N.tag===7){a(V,N.sibling),G=h(N,L.props.children),G.return=V,V=G;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Ns(lt)===N.type){a(V,N.sibling),G=h(N,L.props),Ko(G,L),G.return=V,V=G;break t}a(V,N);break}else i(V,N);N=N.sibling}L.type===et?(G=ws(L.props.children,V.mode,G,L.key),G.return=V,V=G):(G=Nu(L.type,L.key,L.props,null,V.mode,G),Ko(G,L),G.return=V,V=G)}return _(V);case Z:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(V,N.sibling),G=h(N,L.children||[]),G.return=V,V=G;break t}else{a(V,N);break}else i(V,N);N=N.sibling}G=Zh(L,V.mode,G),G.return=V,V=G}return _(V);case w:return L=Ns(L),Jt(V,N,L,G)}if(he(L))return at(V,N,L,G);if(k(L)){if(lt=k(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),dt(V,N,L,G)}if(typeof L.then=="function")return Jt(V,N,Lu(L),G);if(L.$$typeof===ft)return Jt(V,N,xu(V,L),G);Pu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(V,N.sibling),G=h(N,L),G.return=V,V=G):(a(V,N),G=$h(L,V.mode,G),G.return=V,V=G),_(V)):a(V,N)}return function(V,N,L,G){try{Yo=0;var lt=Jt(V,N,L,G);return Ia=null,lt}catch(ot){if(ot===Ra||ot===ku)throw ot;var Pt=yn(29,ot,null,V.mode);return Pt.lanes=G,Pt.return=V,Pt}finally{}}}var Ms=dg(!0),mg=dg(!1),Sr=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Du(e),Zp(e,null,a),i}return Cu(e,o,i,a),Du(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Ao(e,a)}}function ff(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var df=!1;function $o(){if(df){var e=wa;if(e!==null)throw e}}function Zo(e,i,a,o){df=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,_===null?f=P:_.next=P,_=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;_=0,F=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===ba&&(df=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,dt=T;z=i;var Jt=a;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(Jt,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Jt,Y,z):at,z==null)break t;Y=S({},Y,z);break t;case 2:Sr=!0}}z=T.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=q,R=Y):F=F.next=q,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Nr|=_,e.lanes=_,e.memoizedState=Y}}function pg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function gg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)pg(a[e],i)}var Ca=M(null),zu=M(0);function yg(e,i){e=Ji,nt(zu,e),nt(Ca,i),Ji=e|i.baseLanes}function mf(){nt(zu,Ji),nt(Ca,Ca.current)}function pf(){Ji=zu.current,K(Ca),K(zu)}var _n=M(null),kn=null;function Rr(e){var i=e.alternate;nt(me,me.current&1),nt(_n,e),kn===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(kn=e)}function gf(e){nt(me,me.current),nt(_n,e),kn===null&&(kn=e)}function _g(e){e.tag===22?(nt(me,me.current),nt(_n,e),kn===null&&(kn=e)):Ir()}function Ir(){nt(me,me.current),nt(_n,_n.current)}function vn(e){K(_n),kn===e&&(kn=null),K(me)}var me=M(0);function ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Sd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,At=null,$t=null,be=null,Bu=!1,Da=!1,xs=!1,qu=0,Jo=0,Na=null,aA=0;function ue(){throw Error(s(321))}function yf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function _f(e,i,a,o,h,f){return Fi=f,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?ey:xf,xs=!1,f=a(o,h),xs=!1,Da&&(f=Tg(i,a,o,h)),vg(e),f}function vg(e){H.H=el;var i=$t!==null&&$t.next!==null;if(Fi=0,be=$t=At=null,Bu=!1,Jo=0,Na=null,i)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Mu(e)&&(we=!0))}function Tg(e,i,a,o){At=e;var h=0;do{if(Da&&(Na=null),Jo=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,be=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ny,f=i(a,o)}while(Da);return f}function oA(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function vf(){var e=qu!==0;return qu=0,e}function Tf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ef(e){if(Bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Bu=!1}Fi=0,be=$t=At=null,Da=!1,Jo=qu=0,Na=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?At.memoizedState=be=e:be=be.next=e,be}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=be===null?At.memoizedState:be.next;if(i!==null)be=i,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?At.memoizedState=be=e:be=be.next=e}return be}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Jo;return Jo+=1,Na===null&&(Na=[]),e=cg(Na,e,i),i=At,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?ey:xf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===ft)return qe(e)}throw Error(s(438,String(e)))}function Af(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hu(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Gu(e){var i=pe();return Sf(i,$t,e)}function Sf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var T=_=null,R=null,P=i,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(It&Y)===Y:(Fi&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ba&&(F=!0);else if((Fi&z)===z){P=P.next,z===ba&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,_=f):R=R.next=Y,At.lanes|=z,Nr|=z;Y=P.action,xs&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,_=f):R=R.next=z,At.lanes|=Y,Nr|=Y;P=P.next}while(P!==null&&P!==i);if(R===null?_=f:R.next=T,!gn(f,e.memoizedState)&&(we=!0,F&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);gn(f,i.memoizedState)||(we=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Eg(e,i,a){var o=At,h=pe(),f=xt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,If(bg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Sg.bind(null,o,h,a,i),null),te===null)throw Error(s(349));f||(Fi&127)!==0||Ag(o,i,a)}return a}function Ag(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Hu(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Sg(e,i,a,o){i.value=a,i.getSnapshot=o,wg(i)&&Rg(e)}function bg(e,i,a){return a(function(){wg(i)&&Rg(e)})}function wg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Rg(e){var i=bs(e,2);i!==null&&cn(i,e,2)}function wf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),xs){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Ig(e,i,a,o){return e.baseState=a,Sf(e,$t,typeof o=="function"?o:Gi)}function lA(e,i,a,o,h){if(Ku(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Cg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Cg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,_={};H.T=_;try{var T=a(h,o),R=H.S;R!==null&&R(_,T),Dg(e,i,T)}catch(P){Rf(e,i,P)}finally{f!==null&&_.types!==null&&(f.types=_.types),H.T=f}}else try{f=a(h,o),Dg(e,i,f)}catch(P){Rf(e,i,P)}}function Dg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ng(e,i,o)},function(o){return Rf(e,i,o)}):Ng(e,i,a)}function Ng(e,i,a){i.status="fulfilled",i.value=a,Og(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Cg(e,a)))}function Rf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Og(i),i=i.next;while(i!==o)}e.action=null}function Og(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Mg(e,i){return i}function xg(e,i){if(xt){var a=te.formState;if(a!==null){t:{var o=At;if(xt){if(ne){e:{for(var h=ne,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Un(h.nextSibling),o=h.data==="F!";break t}}Er(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=o,a=Jg.bind(null,At,o),o.dispatch=a,o=wf(!1),f=Mf.bind(null,At,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=lA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Vg(e){var i=pe();return kg(i,$t,e)}function kg(e,i,a){if(i=Sf(e,i,Mg)[0],e=Gu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Wo(i)}catch(_){throw _===Ra?ku:_}else o=i;i=pe();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Oa(9,{destroy:void 0},uA.bind(null,h,a),null)),[o,f,e]}function uA(e,i){e.action=i}function Ug(e){var i=pe(),a=$t;if(a!==null)return kg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Oa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=At.updateQueue,i===null&&(i=Hu(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Lg(){return pe().memoizedState}function Qu(e,i,a,o){var h=en();At.flags|=e,h.memoizedState=Oa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,i,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&yf(o,$t.memoizedState.deps)?h.memoizedState=Oa(i,f,a,o):(At.flags|=e,h.memoizedState=Oa(1|i,f,a,o))}function Pg(e,i){Qu(8390656,8,e,i)}function If(e,i){Yu(2048,8,e,i)}function cA(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Hu(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function zg(e){var i=pe().memoizedState;return cA({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jg(e,i){return Yu(4,2,e,i)}function Bg(e,i){return Yu(4,4,e,i)}function qg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Hg(e,i,a){a=a!=null?a.concat([e]):null,Yu(4,4,qg.bind(null,i,e),a)}function Cf(){}function Fg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&yf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Gg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&yf(i,o[1]))return o[0];if(o=e(),xs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o}function Df(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(It&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Qy(),At.lanes|=e,Nr|=e,a)}function Qg(e,i,a,o){return gn(a,i)?a:Ca.current!==null?(e=Df(e,a,o),gn(e,i)||(we=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(It&261930)===0?(we=!0,e.memoizedState=a):(e=Qy(),At.lanes|=e,Nr|=e,i)}function Yg(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=H.T,T={};H.T=T,Mf(e,!1,i,a);try{var R=h(),P=H.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=sA(R,o);tl(e,i,F,An(e))}else tl(e,i,o,An(e))}catch(Y){tl(e,i,{then:function(){},status:"rejected",reason:Y},An())}finally{tt.p=f,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function hA(){}function Nf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Yg(e,h,i,ht,a===null?hA:function(){return Xg(e),a(o)})}function Kg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Xg(e){var i=Kg(e);i.next===null&&(i=e.alternate.memoizedState),tl(e,i.next.queue,{},An())}function Of(){return qe(yl)}function $g(){return pe().memoizedState}function Zg(){return pe().memoizedState}function fA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();e=br(a);var o=wr(i,e,a);o!==null&&(cn(o,i,a),Xo(o,i,a)),i={cache:af()},e.payload=i;return}i=i.return}}function dA(e,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Wg(i,a):(a=Kh(e,i,a,o),a!==null&&(cn(a,e,o),ty(a,i,o)))}function Jg(e,i,a){var o=An();tl(e,i,a,o)}function tl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Wg(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return Cu(e,i,h,0),te===null&&Iu(),!1}catch{}finally{}if(a=Kh(e,i,h,o),a!==null)return cn(a,e,o),ty(a,i,o),!0}return!1}function Mf(e,i,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(i)throw Error(s(479))}else i=Kh(e,a,o,2),i!==null&&cn(i,e,2)}function Ku(e){var i=e.alternate;return e===At||i!==null&&i===At}function Wg(e,i){Da=Bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ty(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Ao(e,a)}}var el={readContext:qe,use:Fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};el.useEffectEvent=ue;var ey={readContext:qe,use:Fu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Pg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,qg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Qu(4194308,4,e,i)},useInsertionEffect:function(e,i){Qu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(xs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(xs){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=dA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Jg.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(e,i){var a=en();return Df(a,e,i)},useTransition:function(){var e=wf(!1);return e=Yg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=At,h=en();if(xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(It&127)!==0||Ag(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Pg(bg.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Sg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=te.identifierPrefix;if(xt){var a=bi,o=Si;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=aA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Of,useFormState:xg,useActionState:xg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Mf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Af,useCacheRefresh:function(){return en().memoizedState=fA.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Fu,useCallback:Fg,useContext:qe,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:jg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Gu,useRef:Lg,useState:function(){return Gu(Gi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=pe();return Qg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Gu(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:Of,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,i){var a=pe();return Ig(a,$t,e,i)},useMemoCache:Af,useCacheRefresh:Zg};xf.useEffectEvent=zg;var ny={readContext:qe,use:Fu,useCallback:Fg,useContext:qe,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:jg,useLayoutEffect:Bg,useMemo:Gg,useReducer:bf,useRef:Lg,useState:function(){return bf(Gi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=pe();return $t===null?Df(a,e,i):Qg(a,$t.memoizedState,e,i)},useTransition:function(){var e=bf(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:Of,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,i){var a=pe();return $t!==null?Ig(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Zg};ny.useEffectEvent=zg;function Vf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=An(),h=br(o);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=An(),h=br(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=An(),o=br(a);o.tag=2,i!=null&&(o.callback=i),i=wr(e,o,a),i!==null&&(cn(i,e,a),Xo(i,e,a))}};function iy(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ry(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&kf.enqueueReplaceState(i,i.state,null)}function Vs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function sy(e){Ru(e)}function ay(e){console.error(e)}function oy(e){Ru(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ly(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function uy(e){return e=br(e),e.tag=3,e}function cy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ly(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ly(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function mA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?oc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),od(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),od(e,o,h)),!1}throw Error(s(435,a.tag))}return od(e,o,h),oc(),!1}if(xt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==tf&&(e=Error(s(422),{cause:o}),Fo(On(e,a)))):(o!==tf&&(i=Error(s(423),{cause:o}),Fo(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Uf(e.stateNode,o,h),ff(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),ul===null?ul=[f]:ul.push(f),ce!==4&&(ce=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,o,e),ff(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,e,a,o),ff(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(s(461)),we=!1;function He(e,i,a,o){i.child=e===null?mg(i,null,a,o):Ms(i,e.child,a,o)}function hy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Cs(i),o=_f(e,i,a,_,f,h),T=vf(),e!==null&&!we?(Tf(e,i,h),Qi(e,i,h)):(xt&&T&&Jh(i),i.flags|=1,He(e,i,o,h),i.child)}function fy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,dy(e,i,f,o,h)):(e=Nu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Gf(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,o)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=ji(f,o),e.ref=i.ref,e.return=i,i.child=e}function dy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===i.ref)if(we=!1,i.pendingProps=o=f,Gf(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Pf(e,i,a,o,h)}function my(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return py(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(i,f!==null?f.cachePool:null),f!==null?yg(i,f):mf(),_g(i);else return o=i.lanes=536870912,py(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Vu(i,f.cachePool),yg(i,f),Ir(),i.memoizedState=null):(e!==null&&Vu(i,null),mf(),Ir());return He(e,i,h,a),i.child}function nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function py(e,i,a,o,h){var f=lf();return f=f===null?null:{parent:Se._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Vu(i,null),mf(),_g(i),e!==null&&Sa(e,i,o,!0),i.childLanes=h,null}function $u(e,i){return i=Ju({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function gy(e,i,a){return Ms(i,e.child,null,a),e=$u(i,i.pendingProps),e.flags|=2,vn(i),i.memoizedState=null,e}function pA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=$u(i,o),i.lanes=536870912,nl(null,e);if(gf(i),(e=ne)?(e=C_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(e),a.return=i,i.child=a,Be=i,ne=null)):e=null,e===null)throw Er(i);return i.lanes=536870912,null}return $u(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(gf(i),h)if(i.flags&256)i.flags&=-257,i=gy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(we||Sa(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=te,o!==null&&(_=So(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,bs(e,_),cn(o,e,_),Lf;oc(),i=gy(e,i,a)}else e=f.treeContext,ne=Un(_.nextSibling),Be=i,xt=!0,Tr=null,Vn=!1,e!==null&&ng(i,e),i=$u(i,o),i.flags|=4096;return i}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Pf(e,i,a,o,h){return Cs(i),a=_f(e,i,a,o,void 0,h),o=vf(),e!==null&&!we?(Tf(e,i,h),Qi(e,i,h)):(xt&&o&&Jh(i),i.flags|=1,He(e,i,a,h),i.child)}function yy(e,i,a,o,h,f){return Cs(i),i.updateQueue=null,a=Tg(i,o,a,h),vg(e),o=vf(),e!==null&&!we?(Tf(e,i,f),Qi(e,i,f)):(xt&&o&&Jh(i),i.flags|=1,He(e,i,a,f),i.child)}function _y(e,i,a,o,h){if(Cs(i),i.stateNode===null){var f=va,_=a.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},cf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?qe(_):va,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Vf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&kf.enqueueReplaceState(f,f.state,null),Zo(i,o,f,h),$o(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var T=i.memoizedProps,R=Vs(a,T);f.props=R;var P=f.context,F=a.contextType;_=va,typeof F=="object"&&F!==null&&(_=qe(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==_)&&ry(i,f,o,_),Sr=!1;var z=i.memoizedState;f.state=z,Zo(i,o,f,h),$o(),P=i.memoizedState,T||z!==P||Sr?(typeof Y=="function"&&(Vf(i,a,Y,o),P=i.memoizedState),(R=Sr||iy(i,a,R,o,z,P,_))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=P),f.props=o,f.state=P,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,hf(e,i),_=i.memoizedProps,F=Vs(a,_),f.props=F,Y=i.pendingProps,z=f.context,P=a.contextType,R=va,typeof P=="object"&&P!==null&&(R=qe(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||z!==R)&&ry(i,f,o,R),Sr=!1,z=i.memoizedState,f.state=z,Zo(i,o,f,h),$o();var q=i.memoizedState;_!==Y||z!==q||Sr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Vf(i,a,T,o),q=i.memoizedState),(F=Sr||iy(i,a,F,o,z,q,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Zu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Ms(i,e.child,null,h),i.child=Ms(i,null,a,h)):He(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Qi(e,i,h),e}function vy(e,i,a,o){return Rs(),i.flags|=256,He(e,i,a,o),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:lg()}}function Bf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Ty(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(xt){if(h?Rr(i):Ir(),(e=ne)?(e=C_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(e),a.return=i,i.child=a,Be=i,ne=null)):e=null,e===null)throw Er(i);return Sd(e)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ir(),h=i.mode,T=Ju({mode:"hidden",children:T},h),o=ws(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=jf(a),o.childLanes=Bf(e,_,a),i.memoizedState=zf,nl(null,o)):(Rr(i),qf(i,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)i.flags&256?(Rr(i),i.flags&=-257,i=Hf(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),T=o.fallback,h=i.mode,o=Ju({mode:"visible",children:o.children},h),T=ws(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Ms(i,e.child,null,a),o=i.child,o.memoizedState=jf(a),o.childLanes=Bf(e,_,a),i.memoizedState=zf,i=nl(null,o));else if(Rr(i),Sd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,o=Error(s(419)),o.stack="",o.digest=_,Fo({value:o,source:null,stack:null}),i=Hf(e,i,a)}else if(we||Sa(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=te,_!==null&&(o=So(_,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,bs(e,o),cn(_,e,o),Lf;Ad(T)||oc(),i=Hf(e,i,a)}else Ad(T)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ne=Un(T.nextSibling),Be=i,xt=!0,Tr=null,Vn=!1,e!==null&&ng(i,e),i=qf(i,o.children),i.flags|=4096);return i}return h?(Ir(),T=o.fallback,h=i.mode,R=e.child,P=R.sibling,o=ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=ji(P,T):(T=ws(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,nl(null,o),o=i.child,T=e.child.memoizedState,T===null?T=jf(a):(h=T.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=lg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(e,_,a),i.memoizedState=zf,nl(e.child,o)):(Rr(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function qf(e,i){return i=Ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ju(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function Hf(e,i,a){return Ms(i,e.child,null,a),e=qf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ey(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),rf(e.return,i,a)}function Ff(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Ay(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,nt(me,_),He(e,i,o,a),o=xt?Ho:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,a,i);else if(e.tag===19)Ey(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ff(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ff(i,!0,a,null,f,o);break;case"together":Ff(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Nr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Sa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Gf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function gA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Ar(i,Se,e.memoizedState.cache),Rs();break;case 27:case 5:as(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ty(e,i,a):(Rr(i),e=Qi(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Sa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return i.lanes=0,my(e,i,a,i.pendingProps);case 24:Ar(i,Se,e.memoizedState.cache)}return Qi(e,i,a)}function Sy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!Gf(e,a)&&(i.flags&128)===0)return we=!1,gA(e,i,a);we=(e.flags&131072)!==0}else we=!1,xt&&(i.flags&1048576)!==0&&eg(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ns(i.elementType),i.type=e,typeof e=="function")Xh(e)?(o=Vs(e,o),i.tag=1,i=_y(null,i,e,o,a)):(i.tag=0,i=Pf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ut){i.tag=11,i=hy(null,i,e,o,a);break t}else if(h===C){i.tag=14,i=fy(null,i,e,o,a);break t}}throw i=qt(e)||e,Error(s(306,i,""))}}return i;case 0:return Pf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Vs(o,i.pendingProps),_y(e,i,o,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,hf(e,i),Zo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Ar(i,Se,o),o!==f.cache&&sf(i,[Se],a,!0),$o(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=vy(e,i,o,a);break t}else if(o!==h){h=On(Error(s(424)),i),Fo(h),i=vy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Un(e.firstChild),Be=i,xt=!0,Tr=null,Vn=!0,a=mg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rs(),o===h){i=Qi(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:xt||(a=i.type,e=i.pendingProps,o=mc(St.current).createElement(a),o[Te]=i,o[ke]=e,Fe(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=V_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return as(i),e===null&&xt&&(o=i.stateNode=O_(i.type,i.pendingProps,St.current),Be=i,Vn=!0,h=ne,kr(i.type)?(bd=h,ne=Un(o.firstChild)):ne=h),He(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&xt&&((h=o=ne)&&(o=QA(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,Be=i,ne=Un(o.firstChild),Vn=!1,h=!0):h=!1),h||Er(i)),as(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:_!==null&&vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(e,i,oA,null,null,a),yl._currentValue=h),Zu(e,i),He(e,i,o,a),i.child;case 6:return e===null&&xt&&((e=a=ne)&&(a=YA(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Be=i,ne=null,e=!0):e=!1),e||Er(i)),null;case 13:return Ty(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ms(i,null,o,a):He(e,i,o,a),i.child;case 11:return hy(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ar(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Cs(i),h=qe(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return fy(e,i,i.type,i.pendingProps,a);case 15:return dy(e,i,i.type,i.pendingProps,a);case 19:return Ay(e,i,a);case 31:return pA(e,i,a);case 22:return my(e,i,a,i.pendingProps);case 24:return Cs(i),o=qe(Se),e===null?(h=lf(),h===null&&(h=te,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},cf(i),Ar(i,Se,h)):((e.lanes&a)!==0&&(hf(e,i),Zo(i,null,null,a),$o()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,Se,o)):(o=f.cache,Ar(i,Se,o),o!==h.cache&&sf(i,[Se],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function Qf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw Os=Uu,uf}else e.flags&=-16777217}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(i))if($y())e.flags|=8192;else throw Os=Uu,uf}function Wu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?su():536870912,e.lanes|=i,ka|=i)}function il(e,i){if(!xt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function yA(e,i,a){var o=i.pendingProps;switch(Wh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(Se),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ef())),ie(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Yi(i),f!==null?(ie(i),by(i,f)):(ie(i),Qf(i,h,null,o,a))):f?f!==e.memoizedState?(Yi(i),ie(i),by(i,f)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(i),ie(i),Qf(i,h,e,o,a)),null;case 27:if(ta(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=st.current,Aa(i)?ig(i):(e=O_(h,o,a),i.stateNode=e,Yi(i))}return ie(i),null;case 5:if(ta(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(f=st.current,Aa(i))ig(i);else{var _=mc(St.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Te]=i,f[ke]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(i)}}return ie(i),Qf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T_(e.nodeValue,a)),e||Er(i,!0)}else e=mc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),ie(i),null);case 4:return se(),e===null&&md(i.stateNode.containerInfo),ie(i),null;case 10:return Hi(i.type),ie(i),null;case 19:if(K(me),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ju(e),f!==null){for(i.flags|=128,il(o,!1),e=f.updateQueue,i.updateQueue=e,Wu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Jp(a,e),a=a.sibling;return nt(me,me.current&1|2),xt&&Bi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>rc&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Wu(i,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ie(i),null}else 2*We()-o.renderingStartTime>rc&&a!==536870912&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),xt&&Bi(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return vn(i),pf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&K(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _A(e,i){switch(Wh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Se),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Rs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Rs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(me),null;case 4:return se(),null;case 10:return Hi(i.type),null;case 22:case 23:return vn(i),pf(),e!==null&&K(Ds),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Se),null;case 25:return null;default:return null}}function wy(e,i){switch(Wh(i),i.tag){case 3:Hi(Se),se();break;case 26:case 27:case 5:ta(i);break;case 4:se();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:K(me);break;case 10:Hi(i.type);break;case 22:case 23:vn(i),pf(),e!==null&&K(Ds);break;case 24:Hi(Se)}}function rl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Cr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var R=a,P=T;try{P()}catch(F){Yt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(i,i.return,F)}}function Ry(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{gg(i,a)}catch(o){Yt(e,e.return,o)}}}function Iy(e,i,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,i,h)}}function wi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Cy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Yf(e,i,a){try{var o=e.stateNode;jA(o,e.type,a,i),o[ke]=i}catch(h){Yt(e,e.return,h)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Xf(e,i,a),e=e.sibling;e!==null;)Xf(e,i,a),e=e.sibling}function tc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,i,a),e=e.sibling;e!==null;)tc(e,i,a),e=e.sibling}function Ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[Te]=e,i[ke]=a}catch(f){Yt(e,e.return,f)}}var Ki=!1,Re=!1,$f=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function vA(e,i){if(e=e.containerInfo,yd=Ec,e=Hp(e),qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,R=-1,P=0,F=0,Y=e,z=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==f||o!==0&&Y.nodeType!==3||(R=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===a&&++P===h&&(T=_),z===f&&++F===o&&(R=_),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},Ec=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Vs(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function My(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&rl(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}o&64&&Ry(a),o&512&&sl(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&o&4&&Ny(a);case 26:case 5:$i(e,a),i===null&&o&4&&Cy(a),o&512&&sl(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&ky(e,a);break;case 13:$i(e,a),o&4&&Uy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=CA.bind(null,a),KA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){i=i!==null&&i.memoizedState!==null||Re,h=Ki;var f=Re;Ki=o,(Re=i)&&!f?Zi(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Ki=h,Re=f}break;case 30:break;default:$i(e,a)}}function xy(e){var i=e.alternate;i!==null&&(e.alternate=null,xy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&sa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Xi(e,i,a){for(a=a.child;a!==null;)Vy(e,i,a),a=a.sibling}function Vy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Re||wi(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||wi(a,i);var o=oe,h=an;kr(a.type)&&(oe=a.stateNode,an=!1),Xi(e,i,a),ml(a.stateNode),oe=o,an=h;break;case 5:Re||wi(a,i);case 6:if(o=oe,h=an,oe=null,Xi(e,i,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,i,f)}break;case 18:oe!==null&&(an?(e=oe,R_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):R_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Xi(e,i,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),Re||Cr(4,a,i),Xi(e,i,a);break;case 1:Re||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Iy(a,i,o)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Xi(e,i,a),Re=o;break;default:Xi(e,i,a)}}function ky(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Yt(i,i.return,a)}}}function Uy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Yt(i,i.return,a)}}function TA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Oy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Oy),i;default:throw Error(s(435,e.tag))}}function ec(e,i){var a=TA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=DA.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(kr(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Vy(f,_,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ly(i,e),i=i.sibling}var $n=null;function Ly(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Cr(3,e,e.return),rl(3,e),Cr(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Re||a===null||wi(a,a.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(on(i,e),ln(e),o&512&&(Re||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Te]=e,Ee(f),o=f;break t;case"link":var _=L_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(_=L_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,Ee(f),o=f}e.stateNode=o}else P_(h,e.type,e.stateNode);else e.stateNode=U_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P_(h,e.type,e.stateNode):U_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Re||a===null||wi(a,a.return)),a!==null&&o&4&&Yf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Re||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(yc=null,h=$n,$n=pc(i.containerInfo),on(i,e),$n=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(at){Yt(e,e.return,at)}$f&&($f=!1,Py(e));break;case 4:o=$n,$n=pc(e.stateNode.containerInfo),on(i,e),ln(e),$n=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Ki,F=Re;if(Ki=P||h,Re=F||R,on(i,e),Re=F,Ki=P,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Ki||Re||ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(R,R.return,at)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Yt(R,R.return,at)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?I_(q,!0):I_(R.stateNode,!1)}catch(at){Yt(R,R.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ec(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);tc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=Kf(e);tc(e,T,_);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Kf(e);Xf(e,P,R);break;default:throw Error(s(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(e,i.alternate,i),i=i.sibling}function ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),ks(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Iy(i,i.return,a),ks(i);break;case 27:ml(i.stateNode);case 26:case 5:wi(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}e=e.sibling}}function Zi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),rl(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)pg(R[h],T)}catch(P){Yt(o,o.return,P)}}a&&_&64&&Ry(f),sl(f,f.return);break;case 27:Ny(f);case 26:case 5:Zi(h,f,a),a&&o===null&&_&4&&Cy(f),sl(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&_&4&&ky(h,f);break;case 13:Zi(h,f,a),a&&_&4&&Uy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),sl(f,f.return);break;case 30:break;default:Zi(h,f,a)}i=i.sibling}}function Zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function Jf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function Zn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zy(e,i,a,o),i=i.sibling}function zy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,a,o),h&2048&&rl(9,i);break;case 1:Zn(e,i,a,o);break;case 3:Zn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Zn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(i,i.return,R)}}else Zn(e,i,a,o);break;case 31:Zn(e,i,a,o);break;case 13:Zn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Zn(e,i,a,o):al(e,i):f._visibility&2?Zn(e,i,a,o):(f._visibility|=2,Ma(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(_,i);break;case 24:Zn(e,i,a,o),h&2048&&Jf(i.alternate,i);break;default:Zn(e,i,a,o)}}function Ma(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,T=a,R=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(f,_,T,R,h),rl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ma(f,_,T,R,h):al(f,_):(F._visibility|=2,Ma(f,_,T,R,h)),h&&P&2048&&Zf(_.alternate,_);break;case 24:Ma(f,_,T,R,h),h&&P&2048&&Jf(_.alternate,_);break;default:Ma(f,_,T,R,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Zf(o.alternate,o);break;case 24:al(a,o),h&2048&&Jf(o.alternate,o);break;default:al(a,o)}i=i.sibling}}var ol=8192;function xa(e,i,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)jy(e,i,a),e=e.sibling}function jy(e,i,a){switch(e.tag){case 26:xa(e,i,a),e.flags&ol&&e.memoizedState!==null&&aS(a,$n,e.memoizedState,e.memoizedProps);break;case 5:xa(e,i,a);break;case 3:case 4:var o=$n;$n=pc(e.stateNode.containerInfo),xa(e,i,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,xa(e,i,a),ol=o):xa(e,i,a));break;default:xa(e,i,a)}}function By(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Hy(o,e)}By(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qy(e),e=e.sibling}function qy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,nc(e)):ll(e);break;default:ll(e)}}function nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Hy(o,e)}By(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,nc(i));break;default:nc(i)}e=e.sibling}}function Hy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(xy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var EA={getCacheForType:function(e){var i=qe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},AA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,te=null,wt=null,It=0,Qt=0,Tn=null,Dr=!1,Va=!1,Wf=!1,Ji=0,ce=0,Nr=0,Us=0,td=0,En=0,ka=0,ul=null,un=null,ed=!1,ic=0,Fy=0,rc=1/0,sc=null,Or=null,xe=0,Mr=null,Ua=null,Wi=0,nd=0,id=null,Gy=null,cl=0,rd=null;function An(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?cd():au()}function Qy(){if(En===0)if((It&536870912)===0||xt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),En=e}else En=536870912;return e=_n.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),xr(e,It,En,!1)),cs(e,a),((Bt&2)===0||e!==te)&&(e===te&&((Bt&2)===0&&(Us|=a),ce===4&&xr(e,It,En,!1)),Ri(e))}function Yy(e,i,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=o?wA(e,i):ad(e,i,!0),f=o;do{if(h===0){Va&&!o&&xr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!SA(a)){h=ad(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=ul;var R=T.current.memoizedState.isDehydrated;if(R&&(La(T,_).flags|=256),_=ad(T,_,!1),_!==2){if(Wf&&!R){T.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){La(e,0),xr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(o,i,En,!Dr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ic+300-We(),10<h)){if(xr(o,i,En,!Dr),li(o,0,!0)!==0)break t;Wi=i,o.timeoutHandle=b_(Ky.bind(null,o,a,un,sc,ed,i,En,Us,ka,Dr,f,"Throttled",-0,0),h);break t}Ky(o,a,un,sc,ed,i,En,Us,ka,Dr,f,null,-0,0)}}break}while(!0);Ri(e)}function Ky(e,i,a,o,h,f,_,T,R,P,F,Y,z,q){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},jy(i,f,Y);var at=(f&62914560)===f?ic-We():(f&4194048)===f?Fy-We():0;if(at=oS(Y,at),at!==null){Wi=f,e.cancelPendingCommit=at(n_.bind(null,e,i,f,a,o,h,_,T,R,F,Y,null,z,q)),xr(e,f,_,!P);return}}n_(e,i,f,a,o,h,_,T,R)}function SA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(e,i,a,o){i&=~td,i&=~Us,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-fe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&hs(e,a,i)}function ac(){return(Bt&6)===0?(hl(0),!1):!0}function sd(){if(wt!==null){if(Qt===0)var e=wt.return;else e=wt,qi=Is=null,Ef(e),Ia=null,Yo=0,e=wt;for(;e!==null;)wy(e.alternate,e),e=e.return;wt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,HA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,sd(),te=e,wt=a=ji(e.current,null),It=i,Qt=0,Tn=null,Dr=!1,Va=Bn(e,i),Wf=!1,ka=En=td=Us=Nr=ce=0,un=ul=null,ed=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),f=1<<h;i|=e[h],o&=~f}return Ji=i,Iu(),a}function Xy(e,i){At=null,H.H=el,i===Ra||i===ku?(i=hg(),Qt=3):i===uf?(i=hg(),Qt=4):Qt=i===Lf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,wt===null&&(ce=1,Xu(e,On(i,e.current)))}function $y(){var e=_n.current;return e===null?!0:(It&4194048)===It?kn===null:(It&62914560)===It||(It&536870912)!==0?e===kn:!1}function Zy(){var e=H.H;return H.H=el,e===null?el:e}function Jy(){var e=H.A;return H.A=EA,e}function oc(){ce=4,Dr||(It&4194048)!==It&&_n.current!==null||(Va=!0),(Nr&134217727)===0&&(Us&134217727)===0||te===null||xr(te,It,En,!1)}function ad(e,i,a){var o=Bt;Bt|=2;var h=Zy(),f=Jy();(te!==e||It!==i)&&(sc=null,La(e,i)),i=!1;var _=ce;t:do try{if(Qt!==0&&wt!==null){var T=wt,R=Tn;switch(Qt){case 8:sd(),_=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var P=Qt;if(Qt=0,Tn=null,Pa(e,T,R,P),a&&Va){_=0;break t}break;default:P=Qt,Qt=0,Tn=null,Pa(e,T,R,P)}}bA(),_=ce;break}catch(F){Xy(e,F)}while(!0);return i&&e.shellSuspendCounter++,qi=Is=null,Bt=o,H.H=h,H.A=f,wt===null&&(te=null,It=0,Iu()),_}function bA(){for(;wt!==null;)Wy(wt)}function wA(e,i){var a=Bt;Bt|=2;var o=Zy(),h=Jy();te!==e||It!==i?(sc=null,rc=We()+500,La(e,i)):Va=Bn(e,i);t:do try{if(Qt!==0&&wt!==null){i=wt;var f=Tn;e:switch(Qt){case 1:Qt=0,Tn=null,Pa(e,i,f,1);break;case 2:case 9:if(ug(f)){Qt=0,Tn=null,t_(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ri(e)},f.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ug(f)?(Qt=0,Tn=null,t_(i)):(Qt=0,Tn=null,Pa(e,i,f,7));break;case 5:var _=null;switch(wt.tag){case 26:_=wt.memoizedState;case 5:case 27:var T=wt;if(_?z_(_):T.stateNode.complete){Qt=0,Tn=null;var R=T.sibling;if(R!==null)wt=R;else{var P=T.return;P!==null?(wt=P,lc(P)):wt=null}break e}}Qt=0,Tn=null,Pa(e,i,f,5);break;case 6:Qt=0,Tn=null,Pa(e,i,f,6);break;case 8:sd(),ce=6;break t;default:throw Error(s(462))}}RA();break}catch(F){Xy(e,F)}while(!0);return qi=Is=null,H.H=o,H.A=h,Bt=a,wt!==null?0:(te=null,It=0,Iu(),ce)}function RA(){for(;wt!==null&&!kh();)Wy(wt)}function Wy(e){var i=Sy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?lc(e):wt=i}function t_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,It);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,It);break;case 5:Ef(i);default:wy(a,i),i=wt=Jp(i,Ji),i=Sy(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?lc(e):wt=i}function Pa(e,i,a,o){qi=Is=null,Ef(i),Ia=null,Yo=0;var h=i.return;try{if(mA(e,h,i,a,It)){ce=1,Xu(e,On(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,Xu(e,On(a,e.current)),wt=null;return}i.flags&32768?(xt||o===1?e=!0:Va||(It&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),e_(i,e)):lc(i)}function lc(e){var i=e;do{if((i.flags&32768)!==0){e_(i,Dr);return}e=i.return;var a=yA(i.alternate,i,Ji);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);ce===0&&(ce=5)}function e_(e,i){do{var a=_A(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ce=6,wt=null}function n_(e,i,a,o,h,f,_,T,R){e.cancelPendingCommit=null;do uc();while(xe!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Yh,Ph(e,a,f,_,T,R),e===te&&(wt=te=null,It=0),Ua=i,Mr=e,Wi=a,nd=f,id=h,Gy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NA(ur,function(){return o_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,_=Bt,Bt|=4;try{vA(e,i,a)}finally{Bt=_,tt.p=h,H.T=o}}xe=1,i_(),r_(),s_()}}function i_(){if(xe===1){xe=0;var e=Mr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{Ly(i,e);var f=_d,_=Hp(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&qp(T.ownerDocument.documentElement,T)){if(R!==null&&qh(T)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=T.textContent.length,dt=Math.min(R.start,at),Jt=R.end===void 0?dt:Math.min(R.end,at);!q.extend&&dt>Jt&&(_=Jt,Jt=dt,dt=_);var V=Bp(T,dt),N=Bp(T,Jt);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),dt>Jt?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var G=Y[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ec=!!yd,_d=yd=null}finally{Bt=h,tt.p=o,H.T=a}}e.current=i,xe=2}}function r_(){if(xe===2){xe=0;var e=Mr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{My(e,i.alternate,i)}finally{Bt=h,tt.p=o,H.T=a}}xe=3}}function s_(){if(xe===4||xe===3){xe=0,Wl();var e=Mr,i=Ua,a=Wi,o=Gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ua=Mr=null,a_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Ui(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{H.T=i,tt.p=h}}(Wi&3)!==0&&uc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===rd?cl++:(cl=0,rd=e):cl=0,hl(0)}}function a_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function uc(){return i_(),r_(),s_(),o_()}function o_(){if(xe!==5)return!1;var e=Mr,i=nd;nd=0;var a=Ui(Wi),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=id,id=null;var f=Mr,_=Wi;if(xe=0,Ua=Mr=null,Wi=0,(Bt&6)!==0)throw Error(s(331));var T=Bt;if(Bt|=4,qy(f.current),zy(f,f.current,_,a),Bt=T,hl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{tt.p=h,H.T=o,a_(e,i)}}function l_(e,i,a){i=On(a,i),i=Uf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(cs(e,2),Ri(e))}function Yt(e,i,a){if(e.tag===3)l_(e,e,a);else for(;i!==null;){if(i.tag===3){l_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=On(a,e),a=uy(2),o=wr(i,a,2),o!==null&&(cy(a,o,i,e),cs(o,2),Ri(o));break}}i=i.return}}function od(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new AA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Wf=!0,h.add(a),e=IA.bind(null,e,i,a),i.then(e,e))}function IA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>We()-ic?(Bt&2)===0&&La(e,0):td|=a,ka===It&&(ka=0)),Ri(e)}function u_(e,i){i===0&&(i=su()),e=bs(e,i),e!==null&&(cs(e,i),Ri(e))}function CA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(e,a)}function DA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),u_(e,a)}function NA(e,i){return Me(e,i)}var cc=null,za=null,ld=!1,hc=!1,ud=!1,Vr=0;function Ri(e){e!==za&&e.next===null&&(za===null?cc=za=e:za=za.next=e),hc=!0,ld||(ld=!0,MA())}function hl(e,i){if(!ud&&hc){ud=!0;do for(var a=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(o,f))}else f=It,f=li(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,d_(o,f));o=o.next}while(a);ud=!1}}function OA(){c_()}function c_(){hc=ld=!1;var e=0;Vr!==0&&qA()&&(e=Vr);for(var i=We(),a=null,o=cc;o!==null;){var h=o.next,f=h_(o,i);f===0?(o.next=null,a===null?cc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}xe!==0&&xe!==5||hl(e),Vr!==0&&(Vr=0)}function h_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-fe(f),T=1<<_,R=h[_];R===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Lh(T,i)):R<=i&&(e.expiredLanes|=T),f&=~T}if(i=te,a=It,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&lr(o),Ui(a)){case 2:case 8:a=Eo;break;case 32:a=ur;break;case 268435456:a=tu;break;default:a=ur}return o=f_.bind(null,e),a=Me(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function f_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var o=It;return o=li(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,i),h_(e,We()),e.callbackNode!=null&&e.callbackNode===a?f_.bind(null,e):null)}function d_(e,i){if(uc())return null;Yy(e,i,!0)}function MA(){FA(function(){(Bt&6)!==0?Me(To,OA):c_()})}function cd(){if(Vr===0){var e=ba;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Vr=e}return Vr}function m_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function p_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function xA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=m_((h[ke]||null).action),_=o.submitter;_&&(i=(i=_[ke]||null)?m_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new vi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var R=_?p_(h,_):new FormData(h);Nf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=_?p_(h,_):new FormData(h),Nf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],VA=fd.toLowerCase(),kA=fd[0].toUpperCase()+fd.slice(1);Xn(VA,"on"+kA)}Xn(Qp,"onAnimationEnd"),Xn(Yp,"onAnimationIteration"),Xn(Kp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Z1,"onTransitionRun"),Xn(J1,"onTransitionStart"),Xn(W1,"onTransitionCancel"),Xn(Xp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function g_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(T=o[_],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=R}}}}function Rt(e,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var o=e+"__bubble";a.has(o)||(y_(i,e,2,!1),a.add(o))}function dd(e,i,a){var o=0;i&&(o|=4),y_(a,e,o,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[fc]){e[fc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(UA.has(a)||dd(a,!1,e),dd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fc]||(i[fc]=!0,dd("selectionchange",!1,i))}}function y_(e,i,a,o){switch(Q_(i)){case 2:var h=cS;break;case 8:h=hS;break;default:h=Dd}a=h.bind(null,i,a,e),h=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function pd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}T=T.parentNode}}o=o.return}pr(function(){var P=f,F=In(a),Y=[];t:{var z=$p.get(e);if(z!==void 0){var q=vi,at=e;switch(e){case"keypress":if(_s(a)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":at="focus",q=Ts;break;case"focusout":at="blur",q=Ts;break;case"beforeblur":case"afterblur":q=Ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Qp:case Yp:case Kp:q=gu;break;case Xp:q=A;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=Et}var dt=(i&4)!==0,Jt=!dt&&(e==="scroll"||e==="scrollend"),V=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=P,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||V===null||(G=Gn(N,V),G!=null&&dt.push(dl(N,G,L))),Jt)break;N=N.return}0<dt.length&&(z=new q(z,at,null,a,F),Y.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==xo&&(at=a.relatedTarget||a.fromElement)&&(fi(at)||at[ci]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=P,at=at?fi(at):null,at!==null&&(Jt=u(at),dt=at.tag,at!==Jt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(q=null,at=P),q!==at)){if(dt=Lo,G="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=zi,G="onPointerLeave",V="onPointerEnter",N="pointer"),Jt=q==null?z:mn(q),L=at==null?z:mn(at),z=new dt(G,N+"leave",q,a,F),z.target=Jt,z.relatedTarget=L,G=null,fi(F)===P&&(dt=new dt(V,N+"enter",at,a,F),dt.target=L,dt.relatedTarget=Jt,G=dt),Jt=G,q&&at)e:{for(dt=LA,V=q,N=at,L=0,G=V;G;G=dt(G))L++;G=0;for(var lt=N;lt;lt=dt(lt))G++;for(;0<L-G;)V=dt(V),L--;for(;0<G-L;)N=dt(N),G--;for(;L--;){if(V===N||N!==null&&V===N.alternate){dt=V;break e}V=dt(V),N=dt(N)}dt=null}else dt=null;q!==null&&__(Y,z,q,dt,!1),at!==null&&Jt!==null&&__(Y,Jt,at,dt,!0)}}t:{if(z=P?mn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=kp;else if(xp(z))if(Up)Pt=K1;else{Pt=Q1;var ot=G1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&la(P.elementType)&&(Pt=kp):Pt=Y1;if(Pt&&(Pt=Pt(e,P))){Vp(Y,Pt,a,F);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&No(z,"number",z.value)}switch(ot=P?mn(P):window,e){case"focusin":(xp(ot)||ot.contentEditable==="true")&&(ga=ot,Hh=P,qo=null);break;case"focusout":qo=Hh=ga=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Fp(Y,a,F);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Fp(Y,a,F)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else pa?Es(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(Ai&&a.locale!=="ko"&&(pa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&pa&&(bt=ko()):(_i=F,Vo="value"in _i?_i.value:_i.textContent,pa=!0)),ot=dc(P,Ct),0<ot.length&&(Ct=new Ei(Ct,e,null,a,F),Y.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=ma(a),bt!==null&&(Ct.data=bt)))),(bt=Dn?B1(e,a):q1(e,a))&&(Ct=dc(P,"onBeforeInput"),0<Ct.length&&(ot=new Ei("onBeforeInput","beforeinput",null,a,F),Y.push({event:ot,listeners:Ct}),ot.data=bt)),xA(Y,e,P,a,F)}g_(Y,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function dc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Gn(e,i),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function LA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=Gn(a,f),P!=null&&_.unshift(dl(a,P,R))):h||(P=Gn(a,f),P!=null&&_.push(dl(a,P,R)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var PA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function v_(e){return(typeof e=="string"?e:""+e).replace(PA,`
`).replace(zA,"")}function T_(e,i){return i=v_(i),v_(e)===i}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(i!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,aa(e,a,o))}}function gd(e,i,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,f,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var T=f=_=h=null,R=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Zt(e,i,o,F,a,null)}}cu(e,f,T,R,P,_,h,!1);return;case"select":Rt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Zt(e,i,h,T,a,null)}i=f,a=_,e.multiple=!!o,i!=null?hr(e,!!o,i,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Zt(e,i,_,T,a,null)}fr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,i,R,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Rt(fl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,P,o,a,null)}return;default:if(la(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&gd(e,i,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Zt(e,i,T,o,a,null))}function jA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,R=null,P=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Zt(e,i,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Y&&Zt(e,i,z,q,o,Y)}}oa(e,_,T,R,P,F,f,h);return;case"select":q=_=T=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==R&&Zt(e,i,h,f,o,R)}i=T,a=_,o=q,z!=null?hr(e,!!a,z,!1):!!o!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,i,_,h,o,f)}hu(e,z,q);return;case"option":for(var at in a)if(z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,i,at,null,o,z)}for(R in o)if(z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,i,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Zt(e,i,dt,null,o,z);for(P in o)if(z=o[P],q=a[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Zt(e,i,P,z,o,q)}return;default:if(la(i)){for(var Jt in a)z=a[Jt],a.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&gd(e,i,Jt,void 0,o,z);for(F in o)z=o[F],q=a[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||gd(e,i,F,z,o,q);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Zt(e,i,V,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||Zt(e,i,Y,z,o,q)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&E_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],P=R.startTime;if(P>T)break;var F=R.transferSize,Y=R.initiatorType;F&&E_(Y)&&(R=R.responseEnd,_+=F*(R<T?1:(T-P)/(R-P)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Td=null;function qA(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(e){return w_.resolve(null).then(e).catch(GA)}:b_;function GA(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function R_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ha(i)}function I_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ed(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function QA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function YA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function C_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function KA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var bd=null;function D_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function O_(e,i,a){switch(i=mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);sa(e)}var Ln=new Map,M_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=tt.d;tt.d={f:XA,r:$A,D:ZA,C:JA,L:WA,m:tS,X:nS,S:eS,M:iS};function XA(){var e=tr.f(),i=ac();return e||i}function $A(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?Xg(i):tr.r(e)}var ja=typeof document>"u"?null:document;function x_(e,i,a){var o=ja;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function ZA(e){tr.D(e),x_("dns-prefetch",e,null)}function JA(e,i){tr.C(e,i),x_("preconnect",e,i)}function WA(e,i,a){tr.L(e,i,a);var o=ja;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=Ba(e);break;case"script":f=qa(e)}Ln.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(f))||i==="script"&&o.querySelector(gl(f))||(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function tS(e,i){tr.m(e,i);var a=ja;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function eS(e,i,a){tr.S(e,i,a);var o=ja;if(o&&e){var h=di(o).hoistableStyles,f=Ba(e);i=i||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(pl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&wd(e,a);var R=_=o.createElement("link");Ee(R),Fe(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function nS(e,i){tr.X(e,i);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Rd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iS(e,i){tr.M(e,i);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Rd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(e,i,a,o){var h=(h=St.current)?pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=di(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(pl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||rS(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function k_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function rS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function qa(e){return'[src="'+rn(e)+'"]'}function gl(e){return"script[async]"+e}function U_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),gc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(pl(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;o=k_(a),(h=Ln.get(h))&&wd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Fe(f,"link",o),i.state.loading|=4,gc(f,a.precedence,e),i.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(gl(f)))?(i.instance=h,Ee(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,gc(o,a.precedence,e));return i.instance}function gc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function wd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var yc=null;function L_(e,i,a){if(yc===null){var o=new Map,h=yc=new Map;h.set(a,o)}else h=yc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function aS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=i.querySelector(pl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=_c.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=i.ownerDocument||i,o=k_(o),(h=Ln.get(h))&&wd(o,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_c.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Id=0;function oS(e,i){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Id===0&&(Id=62500*BA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Id?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Tc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,i.forEach(lS,e),vc=null,_c.call(e))}function lS(e,i){if(!(i.state.loading&4)){var a=vc.get(e);if(a)var o=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function uS(e,i,a,o,h,f,_,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function j_(e,i,a,o,h,f,_,T,R,P,F,Y){return e=new uS(e,i,a,_,R,P,F,Y,T),i=1,f===!0&&(i|=24),f=yn(3,null,null,i),e.current=f,f.stateNode=e,i=af(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},cf(f),e}function B_(e){return e?(e=va,e):va}function q_(e,i,a,o,h,f){h=B_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,i),a!==null&&(cn(a,e,i),Xo(a,e,i))}function H_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Cd(e,i){H_(e,i),(e=e.alternate)&&H_(e,i)}function F_(e){if(e.tag===13||e.tag===31){var i=bs(e,67108864);i!==null&&cn(i,e,67108864),Cd(e,67108864)}}function G_(e){if(e.tag===13||e.tag===31){var i=An();i=fs(i);var a=bs(e,i);a!==null&&cn(a,e,i),Cd(e,i)}}var Ec=!0;function cS(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Dd(e,i,a,o)}finally{tt.p=f,H.T=h}}function hS(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Dd(e,i,a,o)}finally{tt.p=f,H.T=h}}function Dd(e,i,a,o){if(Ec){var h=Nd(o);if(h===null)pd(e,i,o,Ac,a),Y_(e,o);else if(dS(h,e,i,a,o))o.stopPropagation();else if(Y_(e,o),i&4&&-1<fS.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=oi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-fe(_);T.entanglements[1]|=R,_&=~R}Ri(f),(Bt&6)===0&&(rc=We()+500,hl(0))}}break;case 31:case 13:T=bs(f,2),T!==null&&cn(T,f,2),ac(),Cd(f,2)}if(f=Nd(o),f===null&&pd(e,i,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,i,o,null,a)}}function Nd(e){return e=In(e),Od(e)}var Ac=null;function Od(e){if(Ac=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ac=e,null}function Q_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case To:return 2;case Eo:return 8;case ur:case Uh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Md=!1,Ur=null,Lr=null,Pr=null,_l=new Map,vl=new Map,zr=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function Tl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&F_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function dS(e,i,a,o,h){switch(i){case"focusin":return Ur=Tl(Ur,e,i,a,o,h),!0;case"dragenter":return Lr=Tl(Lr,e,i,a,o,h),!0;case"mouseover":return Pr=Tl(Pr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,Tl(_l.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,Tl(vl.get(f)||null,e,i,a,o,h)),!0}return!1}function K_(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,qn(e.priority,function(){G_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,qn(e.priority,function(){G_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);xo=o,a.target.dispatchEvent(o),xo=null}else return i=Rn(a),i!==null&&F_(i),e.blockedOn=a,!1;i.shift()}return!0}function X_(e,i,a){Sc(e)&&a.delete(i)}function mS(){Md=!1,Ur!==null&&Sc(Ur)&&(Ur=null),Lr!==null&&Sc(Lr)&&(Lr=null),Pr!==null&&Sc(Pr)&&(Pr=null),_l.forEach(X_),vl.forEach(X_)}function bc(e,i){e.blockedOn===i&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mS)))}var wc=null;function $_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Od(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function i(R){return bc(R,e)}Ur!==null&&bc(Ur,e),Lr!==null&&bc(Lr,e),Pr!==null&&bc(Pr,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[ke]||null;if(typeof f=="function")_||$_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ke]||null)T=_.formAction;else if(Od(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),$_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Rc.prototype.render=xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();q_(a,o,e,i,null,null)},Rc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;q_(e.current,2,null,e,null,null),ac(),i[ci]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var i=au();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&K_(e)}};var J_=t.version;if(J_!=="19.2.1")throw Error(s(527,J_,"19.2.1"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var pS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{jn=Ic.inject(pS),ze=Ic}catch{}}return Al.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=sy,f=ay,_=oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=j_(e,1,!1,null,null,a,o,null,h,f,_,Z_),e[ci]=i.current,md(e),new xd(i)},Al.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=sy,_=ay,T=oy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=j_(e,1,!0,i,a??null,o,h,R,f,_,T,Z_),i.context=B_(null),a=i.current,o=An(),o=fs(o),h=br(o),h.callback=null,wr(a,h,o),a=o,i.current.lanes=a,cs(i,a),Ri(i),e[ci]=i.current,md(e),new Rc(i)},Al.version="19.2.1",Al}var lv;function IS(){if(lv)return Ud.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=RS(),Ud.exports}var CS=IS();const DS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),uv=r=>{const t=NS(r);return t.charAt(0).toUpperCase()+t.slice(1)},$T=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),OS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var MS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xS=Wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...p},g)=>Wt.createElement("svg",{ref:g,...MS,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:$T("lucide",l),...!u&&!OS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>Wt.createElement(y,E)),...Array.isArray(u)?u:[u]]));const dn=(r,t)=>{const n=Wt.forwardRef(({className:s,...l},u)=>Wt.createElement(xS,{ref:u,iconNode:t,className:$T(`lucide-${DS(uv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=uv(r),n};const VS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kS=dn("check",VS);const US=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LS=dn("copy",US);const PS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zS=dn("grid-3x3",PS);const jS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BS=dn("log-out",jS);const qS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HS=dn("menu",qS);const FS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],GS=dn("moon",FS);const QS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YS=dn("pen",QS);const KS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XS=dn("plus",KS);const $S=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZS=dn("search",$S);const JS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZT=dn("star",JS);const WS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tb=dn("sun",WS);const eb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nb=dn("tag",eb);const ib=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rb=dn("trash-2",ib);const sb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ab=dn("x",sb),ob=()=>{};var cv={};const JT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},lb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let D=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(D=64)),s.push(n[E],n[S],n[D],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(JT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new ub;const D=u<<2|p>>4;if(s.push(D),y!==64){const B=p<<4&240|y>>2;if(s.push(B),S!==64){const Z=y<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cb=function(r){const t=JT(r);return WT.encodeByteArray(t,!0)},Gc=function(r){return cb(r).replace(/\./g,"")},t0=function(r){try{return WT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fb=()=>hb().__FIREBASE_DEFAULTS__,db=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&t0(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return ob()||fb()||db()||mb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e0=r=>fh()?.emulatorHosts?.[r],pb=r=>{const t=e0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},n0=()=>fh()?.config,i0=r=>fh()?.[`_${r}`];class gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r0(r){return(await fetch(r,{credentials:"include"})).ok}function yb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(n)),Gc(JSON.stringify(d)),""].join(".")}const Cl={};function _b(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function vb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let hv=!1;function s0(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Cl[r]===t||Cl[r]||hv)return;Cl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=_b().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{hv=!0,d()},D}function E(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=vb(s),B=n("text"),Z=document.getElementById(B)||document.createElement("span"),et=n("learnmore"),J=document.getElementById(et)||document.createElement("a"),ct=n("preprendIcon"),yt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;p(ft),E(J,et);const Ut=y();g(yt,ct),ft.append(yt,Z,J,Ut),document.body.appendChild(ft)}u?(Z.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Eb(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bb(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wb(){return!Eb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o0(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function Rb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ib="FirebaseError";class ri extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ib,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs.prototype.create)}}class Xs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Cb(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ri(l,p,s)}}function Cb(r,t){return r.replace(Db,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Db=/\{\$([^}]+)}/g;function Nb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(fv(u)&&fv(d)){if(!Zr(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ob(r,t){const n=new Mb(r,t);return n.subscribe.bind(n)}class Mb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xb(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function jd(){}const Vb=1e3,kb=2,Ub=14400*1e3,Lb=.5;function dv(r,t=Vb,n=kb){const s=t*Math.pow(n,r),l=Math.round(Lb*s*(Math.random()-.5)*2);return Math.min(Ub,s+l)}function ye(r){return r&&r._delegate?r._delegate:r}class ni{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class Pb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jb(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zb(r){return r===Ls?void 0:r}function jb(r){return r.instantiationMode==="EAGER"}class Bb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Pb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const qb={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Hb=Dt.INFO,Fb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Gb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Fb[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dh{constructor(t){this.name=t,this._logLevel=Hb,this._logHandler=Gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const Qb=(r,t)=>t.some(n=>r instanceof n);let mv,pv;function Yb(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kb(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,im=new WeakMap,c0=new WeakMap,Bd=new WeakMap,Om=new WeakMap;function Xb(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&u0.set(n,r)}).catch(()=>{}),Om.set(t,r),t}function $b(r){if(im.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});im.set(r,t)}let rm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||c0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Zb(r){rm=r(rm)}function Jb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(qd(this),t,...n);return c0.set(s,t.sort?t.sort():[t]),Qr(s)}:Kb().includes(r)?function(...t){return r.apply(qd(this),t),Qr(u0.get(this))}:function(...t){return Qr(r.apply(qd(this),t))}}function Wb(r){return typeof r=="function"?Jb(r):(r instanceof IDBTransaction&&$b(r),Qb(r,Yb())?new Proxy(r,rm):r)}function Qr(r){if(r instanceof IDBRequest)return Xb(r);if(Bd.has(r))return Bd.get(r);const t=Wb(r);return t!==r&&(Bd.set(r,t),Om.set(t,r)),t}const qd=r=>Om.get(r);function h0(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),p=Qr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Qr(d.result),g.oldVersion,g.newVersion,Qr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const tw=["get","getKey","getAll","getAllKeys","count"],ew=["put","add","delete","clear"],Hd=new Map;function gv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=ew.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||tw.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Hd.set(t,u),u}Zb(r=>({...r,get:(t,n,s)=>gv(t,n)||r.get(t,n,s),has:(t,n)=>!!gv(t,n)||r.has(t,n)}));class nw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iw(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",yv="0.14.6";const rr=new dh("@firebase/app"),rw="@firebase/app-compat",sw="@firebase/analytics-compat",aw="@firebase/analytics",ow="@firebase/app-check-compat",lw="@firebase/app-check",uw="@firebase/auth",cw="@firebase/auth-compat",hw="@firebase/database",fw="@firebase/data-connect",dw="@firebase/database-compat",mw="@firebase/functions",pw="@firebase/functions-compat",gw="@firebase/installations",yw="@firebase/installations-compat",_w="@firebase/messaging",vw="@firebase/messaging-compat",Tw="@firebase/performance",Ew="@firebase/performance-compat",Aw="@firebase/remote-config",Sw="@firebase/remote-config-compat",bw="@firebase/storage",ww="@firebase/storage-compat",Rw="@firebase/firestore",Iw="@firebase/ai",Cw="@firebase/firestore-compat",Dw="firebase",Nw="12.6.0";const am="[DEFAULT]",Ow={[sm]:"fire-core",[rw]:"fire-core-compat",[aw]:"fire-analytics",[sw]:"fire-analytics-compat",[lw]:"fire-app-check",[ow]:"fire-app-check-compat",[uw]:"fire-auth",[cw]:"fire-auth-compat",[hw]:"fire-rtdb",[fw]:"fire-data-connect",[dw]:"fire-rtdb-compat",[mw]:"fire-fn",[pw]:"fire-fn-compat",[gw]:"fire-iid",[yw]:"fire-iid-compat",[_w]:"fire-fcm",[vw]:"fire-fcm-compat",[Tw]:"fire-perf",[Ew]:"fire-perf-compat",[Aw]:"fire-rc",[Sw]:"fire-rc-compat",[bw]:"fire-gcs",[ww]:"fire-gcs-compat",[Rw]:"fire-fst",[Cw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Dw]:"fire-js-all"};const Qc=new Map,Mw=new Map,om=new Map;function _v(r,t){try{r.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function xi(r){const t=r.name;if(om.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,r);for(const n of Qc.values())_v(n,r);for(const n of Mw.values())_v(n,r);return!0}function $s(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Xs("app","Firebase",xw);class Vw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const uo=Nw;function f0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:am,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(n||(n=n0()),!n)throw Yr.create("no-options");const u=Qc.get(l);if(u){if(Zr(n,u.options)&&Zr(s,u.config))return u;throw Yr.create("duplicate-app",{appName:l})}const d=new Bb(l);for(const g of om.values())d.addComponent(g);const p=new Vw(n,s,d);return Qc.set(l,p),p}function Mm(r=am){const t=Qc.get(r);if(!t&&r===am&&n0())return f0();if(!t)throw Yr.create("no-app",{appName:r});return t}function zn(r,t,n){let s=Ow[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}xi(new ni(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const kw="firebase-heartbeat-database",Uw=1,Vl="firebase-heartbeat-store";let Fd=null;function d0(){return Fd||(Fd=h0(kw,Uw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function Lw(r){try{const n=(await d0()).transaction(Vl),s=await n.objectStore(Vl).get(m0(r));return await n.done,s}catch(t){if(t instanceof ri)rr.warn(t.message);else{const n=Yr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(n.message)}}}async function vv(r,t){try{const s=(await d0()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(t,m0(r)),await s.done}catch(n){if(n instanceof ri)rr.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function m0(r){return`${r.name}!${r.options.appId}`}const Pw=1024,zw=30;class jw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>zw){const l=Hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tv(),{heartbeatsToSend:n,unsentEntries:s}=Bw(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function Bw(r,t=Pw){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Ev(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ev(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o0()?l0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function Hw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Fw(r){xi(new ni("platform-logger",t=>new nw(t),"PRIVATE")),xi(new ni("heartbeat",t=>new jw(t),"PRIVATE")),zn(sm,yv,r),zn(sm,yv,"esm2020"),zn("fire-js","")}Fw("");var Gw="firebase",Qw="12.6.0";zn(Gw,Qw,"app");function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yw=p0,g0=new Xs("auth","Firebase",p0());const Yc=new dh("@firebase/auth");function Kw(r,...t){Yc.logLevel<=Dt.WARN&&Yc.warn(`Auth (${uo}): ${r}`,...t)}function Vc(r,...t){Yc.logLevel<=Dt.ERROR&&Yc.error(`Auth (${uo}): ${r}`,...t)}function Vi(r,...t){throw Vm(r,...t)}function ti(r,...t){return Vm(r,...t)}function xm(r,t,n){const s={...Yw(),[t]:n};return new Xs("auth","Firebase",s).create(t,{appName:r.name})}function Bs(r){return xm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Vi(r,"argument-error"),xm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return g0.create(r,...t)}function pt(r,t,...n){if(!r)throw Vm(t,...n)}function nr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function sr(r,t){r||nr(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function $w(){return Av()==="http:"||Av()==="https:"}function Av(){return typeof self<"u"&&self.location?.protocol||null}function Zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($w()||a0()||"connection"in navigator)?navigator.onLine:!0}function Jw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=Tb()||Sb()}get(){return Zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class y0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eR=new Fl(3e4,6e4);function Um(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function co(r,t,n,s,l={}){return _0(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=Hl({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Ab()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),y0.fetch()(await v0(r,r.config.apiHost,n,p),y)})}async function _0(r,t,n){r._canInitEmulator=!1;const s={...Ww,...t};try{const l=new iR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Cc(r,"user-disabled",d);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xm(r,E,y);Vi(r,E)}}catch(l){if(l instanceof ri)throw l;Vi(r,"network-request-failed",{message:String(l)})}}async function nR(r,t,n,s,l={}){const u=await co(r,t,n,s,l);return"mfaPendingCredential"in u&&Vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function v0(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?km(r.config,l):`${r.config.apiScheme}://${l}`;return tR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class iR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),eR.get())})}}function Cc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ti(r,t,s);return l.customData._tokenResponse=n,l}async function rR(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function Kc(r,t){return co(r,"POST","/v1/accounts:lookup",t)}function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sR(r,t=!1){const n=ye(r),s=await n.getIdToken(t),l=Lm(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Dl(Gd(l.auth_time)),issuedAtTime:Dl(Gd(l.iat)),expirationTime:Dl(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gd(r){return Number(r)*1e3}function Lm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=t0(n);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Sv(r){const t=Lm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ri&&aR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class oR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,n=await r.getIdToken(),s=await kl(r,Kc(t,{idToken:n}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?T0(l.providerUserInfo):[],d=uR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,y=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function lR(r){const t=ye(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function T0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cR(r,t){const n=await _0(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await v0(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),y0.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hR(r,t){return co(r,"POST","/v2/accounts:revokeToken",Um(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Sv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=Sv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await cR(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new Ka;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Br(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await kl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sR(this,t)}reload(){return lR(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Xc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Bs(this.auth));const t=await this.getIdToken();return await kl(this,rR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:B,providerData:Z,stsTokenManager:et}=n;pt(S&&et,t,"internal-error");const J=Ka.fromJSON(this.name,et);pt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof B=="boolean",t,"internal-error"),Br(u,t.name),Br(d,t.name),Br(p,t.name),Br(g,t.name),Br(y,t.name),Br(E,t.name);const ct=new Wn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(ct.providerData=Z.map(yt=>({...yt}))),g&&(ct._redirectEventId=g),ct}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ka;l.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Xc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?T0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Ka;p.updateFromIdToken(s);const g=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const bv=new Map;function ir(r){sr(r instanceof Function,"Expected a class definition");let t=bv.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,bv.set(r,t),t)}class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}E0.type="NONE";const wv=E0;function kc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,u),this.fullPersistenceKey=kc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kc(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(ir(wv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ir(wv);const d=kc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const D=await Kc(t,{idToken:E}).catch(()=>{});if(!D)break;S=await Wn._fromGetAccountInfoResponse(t,D,E)}else S=Wn._fromJSON(t,E);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,t,s):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Xa(u,t,s))}}function Rv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(w0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(I0(t))return"Blackberry";if(C0(t))return"Webos";if(S0(t))return"Safari";if((t.includes("chrome/")||b0(t))&&!t.includes("edge/"))return"Chrome";if(R0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function A0(r=Je()){return/firefox\//i.test(r)}function S0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function b0(r=Je()){return/crios\//i.test(r)}function w0(r=Je()){return/iemobile/i.test(r)}function R0(r=Je()){return/android/i.test(r)}function I0(r=Je()){return/blackberry/i.test(r)}function C0(r=Je()){return/webos/i.test(r)}function Pm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fR(r=Je()){return Pm(r)&&!!window.navigator?.standalone}function dR(){return bb()&&document.documentMode===10}function D0(r=Je()){return Pm(r)||R0(r)||C0(r)||I0(r)||/windows phone/i.test(r)||w0(r)}function N0(r,t=[]){let n;switch(r){case"Browser":n=Rv(Je());break;case"Worker":n=`${Rv(Je())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}class mR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const g=t(u);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pR(r,t={}){return co(r,"GET","/v2/passwordPolicy",Um(r,t))}const gR=6;class yR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class _R{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new mR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kc(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Jw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Bs(this));const n=t?ye(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pR(this),n=new yR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Kw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mh(r){return ye(r)}class Iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ob(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vR(r){zm=r}function TR(r){return zm.loadJS(r)}function ER(){return zm.gapiScript}function AR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function SR(r,t){const n=$s(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Zr(u,t??{}))return l;Vi(l,"already-initialized")}return n.initialize({options:t})}function bR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function wR(r,t,n){const s=mh(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=O0(t),{host:d,port:p}=RR(t),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},E=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(Zr(y,s.config.emulator)&&Zr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(d)?(r0(`${u}//${d}${g}`),s0("Auth",!0)):IR()}function O0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function RR(r){const t=O0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Cv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Cv(d)}}}function Cv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function IR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class M0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function $a(r,t){return nR(r,"POST","/v1/accounts:signInWithIdp",Um(r,t))}const CR="http://localhost";class Fs extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:CR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hl(n)}return t}}class jm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends jm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Gl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class er extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fs._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class Hr extends Gl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Fr extends Gl{constructor(){super("twitter.com")}static credential(t,n){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await Wn._fromIdTokenResponse(t,s,l),d=Dv(s);return new to({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Dv(s);return new to({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class $c extends ri{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new $c(t,n,s,l)}}function x0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,u,t,s):u})}async function DR(r,t,n=!1){const s=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return to._forOperation(r,"link",s)}async function NR(r,t,n=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Bs(s));const l="reauthenticate";try{const u=await kl(r,x0(s,l,t,r),n);pt(u.idToken,s,"internal-error");const d=Lm(u.idToken);pt(d,s,"internal-error");const{sub:p}=d;return pt(r.uid===p,s,"user-mismatch"),to._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),u}}async function OR(r,t,n=!1){if(Jn(r.app))return Promise.reject(Bs(r));const s="signIn",l=await x0(r,s,t),u=await to._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function MR(r,t,n,s){return ye(r).onIdTokenChanged(t,n,s)}function xR(r,t,n){return ye(r).beforeAuthStateChanged(t,n)}function VR(r,t,n,s){return ye(r).onAuthStateChanged(t,n,s)}function kR(r){return ye(r).signOut()}const Zc="__sak";class V0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const UR=1e3,LR=10;class k0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);dR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,LR):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}k0.type="LOCAL";const PR=k0;class U0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}U0.type="SESSION";const L0=U0;function zR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ph(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await zR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Bm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class jR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Bm("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function BR(r){Ci().location.href=r}function P0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function qR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HR(){return navigator?.serviceWorker?.controller||null}function FR(){return P0()?self:null}const z0="firebaseLocalStorageDb",GR=1,Jc="firebaseLocalStorage",j0="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function QR(){const r=indexedDB.deleteDatabase(z0);return new Ql(r).toPromise()}function cm(){const r=indexedDB.open(z0,GR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Jc,{keyPath:j0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Jc)?t(s):(s.close(),await QR(),t(await cm()))})})}async function Nv(r,t,n){const s=gh(r,!0).put({[j0]:t,value:n});return new Ql(s).toPromise()}async function YR(r,t){const n=gh(r,!1).get(t),s=await new Ql(n).toPromise();return s===void 0?null:s.value}function Ov(r,t){const n=gh(r,!0).delete(t);return new Ql(n).toPromise()}const KR=800,XR=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(FR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qR(),!this.activeServiceWorker)return;this.sender=new jR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Nv(t,Zc,"1"),await Ov(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>YR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ov(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=gh(l,!1).getAll();return new Ql(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const $R=B0;new Fl(3e4,6e4);function q0(r,t){return t?ir(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class qm extends M0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZR(r){return OR(r.auth,new qm(r),r.bypassAuthState)}function JR(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),NR(n,new qm(r),r.bypassAuthState)}async function WR(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),DR(n,new qm(r),r.bypassAuthState)}class H0{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return WR;case"reauthViaPopup":case"reauthViaRedirect":return JR;default:Vi(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const t2=new Fl(2e3,1e4);async function e2(r,t,n){if(Jn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=mh(r);Xw(r,t,jm);const l=q0(s,n);return new Ps(s,"signInViaPopup",t,l).executeNotNull()}class Ps extends H0{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,t2.get())};t()}}Ps.currentPopupAction=null;const n2="pendingRedirect",Uc=new Map;class i2 extends H0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const s=await r2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r2(r,t){const n=o2(t),s=a2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function s2(r,t){Uc.set(r._key(),t)}function a2(r){return ir(r._redirectPersistence)}function o2(r){return kc(n2,r.config.apiKey,r.name)}async function l2(r,t,n=!1){if(Jn(r.app))return Promise.reject(Bs(r));const s=mh(r),l=q0(s,t),d=await new i2(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const u2=600*1e3;class c2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!F0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function F0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function h2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(r);default:return!1}}async function f2(r,t={}){return co(r,"GET","/v1/projects",t)}const d2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m2=/^https?/;async function p2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await f2(r);for(const n of t)try{if(g2(n))return}catch{}Vi(r,"unauthorized-domain")}function g2(r){const t=lm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!m2.test(n))return!1;if(d2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const y2=new Fl(3e4,6e4);function xv(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _2(r){return new Promise((t,n)=>{function s(){xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xv(),n(ti(r,"network-request-failed"))},timeout:y2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=AR("iframefcb");return Ci()[l]=()=>{gapi.load?s():n(ti(r,"network-request-failed"))},TR(`${ER()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function v2(r){return Lc=Lc||_2(r),Lc}const T2=new Fl(5e3,15e3),E2="__/auth/iframe",A2="emulator/auth/iframe",S2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w2(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?km(t,A2):`https://${r.config.authDomain}/${E2}`,s={apiKey:t.apiKey,appName:r.name,v:uo},l=b2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Hl(s).slice(1)}`}async function R2(r){const t=await v2(r),n=Ci().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:w2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),p=Ci().setTimeout(()=>{u(d)},T2.get());function g(){Ci().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{u(d)})}))}const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C2=500,D2=600,N2="_blank",O2="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(r,t,n,s=C2,l=D2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...I2,width:s.toString(),height:l.toString(),top:u,left:d},y=Je().toLowerCase();n&&(p=b0(y)?N2:n),A0(y)&&(t=t||O2,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[B,Z])=>`${D}${B}=${Z},`,"");if(fR(y)&&p!=="_self")return x2(t||"",p),new Vv(null);const S=window.open(t||"",p,E);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new Vv(S)}function x2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const V2="__/auth/handler",k2="emulator/auth/handler",U2=encodeURIComponent("fac");async function kv(r,t,n,s,l,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:l};if(t instanceof jm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Nb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(t instanceof Gl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${U2}=${encodeURIComponent(g)}`:"";return`${L2(r)}?${Hl(p).slice(1)}${y}`}function L2({config:r}){return r.emulator?km(r,k2):`https://${r.authDomain}/${V2}`}const Qd="webStorageSupport";class P2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=l2,this._overrideRedirectResult=s2}async _openPopup(t,n,s,l){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await kv(t,n,s,lm(),l);return M2(t,u,Bm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await kv(t,n,s,lm(),l);return BR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await R2(t),s=new c2(t);return n.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const u=l?.[0]?.[Qd];u!==void 0&&n(!!u),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return D0()||S0()||Pm()}}const z2=P2;var Uv="@firebase/auth",Lv="1.11.1";class j2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function B2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(r){xi(new ni("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(r)},y=new _R(s,l,u,g);return bR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),xi(new ni("auth-internal",t=>{const n=mh(t.getProvider("auth").getImmediate());return(s=>new j2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Uv,Lv,B2(r)),zn(Uv,Lv,"esm2020")}const H2=300,F2=i0("authIdTokenMaxAge")||H2;let Pv=null;const G2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>F2)return;const l=n?.token;Pv!==l&&(Pv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Q2(r=Mm()){const t=$s(r,"auth");if(t.isInitialized())return t.getImmediate();const n=SR(r,{popupRedirectResolver:z2,persistence:[$R,PR,L0]}),s=i0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=G2(u.toString());xR(n,d,()=>d(n.currentUser)),MR(n,p=>d(p))}}const l=e0("auth");return l&&wR(n,`http://${l}`),n}function Y2(){return document.getElementsByTagName("head")?.[0]??document}vR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=ti("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",Y2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,G0;(function(){var r;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,O,k){for(var b=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)b[qt-2]=arguments[qt];return w.prototype[O].apply(x,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],O=C.g[2];let k=C.g[3],b;b=w+(k^I&(O^k))+x[0]+3614090360&4294967295,w=I+(b<<7&4294967295|b>>>25),b=k+(O^w&(I^O))+x[1]+3905402710&4294967295,k=w+(b<<12&4294967295|b>>>20),b=O+(I^k&(w^I))+x[2]+606105819&4294967295,O=k+(b<<17&4294967295|b>>>15),b=I+(w^O&(k^w))+x[3]+3250441966&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(k^I&(O^k))+x[4]+4118548399&4294967295,w=I+(b<<7&4294967295|b>>>25),b=k+(O^w&(I^O))+x[5]+1200080426&4294967295,k=w+(b<<12&4294967295|b>>>20),b=O+(I^k&(w^I))+x[6]+2821735955&4294967295,O=k+(b<<17&4294967295|b>>>15),b=I+(w^O&(k^w))+x[7]+4249261313&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(k^I&(O^k))+x[8]+1770035416&4294967295,w=I+(b<<7&4294967295|b>>>25),b=k+(O^w&(I^O))+x[9]+2336552879&4294967295,k=w+(b<<12&4294967295|b>>>20),b=O+(I^k&(w^I))+x[10]+4294925233&4294967295,O=k+(b<<17&4294967295|b>>>15),b=I+(w^O&(k^w))+x[11]+2304563134&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(k^I&(O^k))+x[12]+1804603682&4294967295,w=I+(b<<7&4294967295|b>>>25),b=k+(O^w&(I^O))+x[13]+4254626195&4294967295,k=w+(b<<12&4294967295|b>>>20),b=O+(I^k&(w^I))+x[14]+2792965006&4294967295,O=k+(b<<17&4294967295|b>>>15),b=I+(w^O&(k^w))+x[15]+1236535329&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(O^k&(I^O))+x[1]+4129170786&4294967295,w=I+(b<<5&4294967295|b>>>27),b=k+(I^O&(w^I))+x[6]+3225465664&4294967295,k=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(k^w))+x[11]+643717713&4294967295,O=k+(b<<14&4294967295|b>>>18),b=I+(k^w&(O^k))+x[0]+3921069994&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^k&(I^O))+x[5]+3593408605&4294967295,w=I+(b<<5&4294967295|b>>>27),b=k+(I^O&(w^I))+x[10]+38016083&4294967295,k=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(k^w))+x[15]+3634488961&4294967295,O=k+(b<<14&4294967295|b>>>18),b=I+(k^w&(O^k))+x[4]+3889429448&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^k&(I^O))+x[9]+568446438&4294967295,w=I+(b<<5&4294967295|b>>>27),b=k+(I^O&(w^I))+x[14]+3275163606&4294967295,k=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(k^w))+x[3]+4107603335&4294967295,O=k+(b<<14&4294967295|b>>>18),b=I+(k^w&(O^k))+x[8]+1163531501&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^k&(I^O))+x[13]+2850285829&4294967295,w=I+(b<<5&4294967295|b>>>27),b=k+(I^O&(w^I))+x[2]+4243563512&4294967295,k=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(k^w))+x[7]+1735328473&4294967295,O=k+(b<<14&4294967295|b>>>18),b=I+(k^w&(O^k))+x[12]+2368359562&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(I^O^k)+x[5]+4294588738&4294967295,w=I+(b<<4&4294967295|b>>>28),b=k+(w^I^O)+x[8]+2272392833&4294967295,k=w+(b<<11&4294967295|b>>>21),b=O+(k^w^I)+x[11]+1839030562&4294967295,O=k+(b<<16&4294967295|b>>>16),b=I+(O^k^w)+x[14]+4259657740&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^k)+x[1]+2763975236&4294967295,w=I+(b<<4&4294967295|b>>>28),b=k+(w^I^O)+x[4]+1272893353&4294967295,k=w+(b<<11&4294967295|b>>>21),b=O+(k^w^I)+x[7]+4139469664&4294967295,O=k+(b<<16&4294967295|b>>>16),b=I+(O^k^w)+x[10]+3200236656&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^k)+x[13]+681279174&4294967295,w=I+(b<<4&4294967295|b>>>28),b=k+(w^I^O)+x[0]+3936430074&4294967295,k=w+(b<<11&4294967295|b>>>21),b=O+(k^w^I)+x[3]+3572445317&4294967295,O=k+(b<<16&4294967295|b>>>16),b=I+(O^k^w)+x[6]+76029189&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^k)+x[9]+3654602809&4294967295,w=I+(b<<4&4294967295|b>>>28),b=k+(w^I^O)+x[12]+3873151461&4294967295,k=w+(b<<11&4294967295|b>>>21),b=O+(k^w^I)+x[15]+530742520&4294967295,O=k+(b<<16&4294967295|b>>>16),b=I+(O^k^w)+x[2]+3299628645&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(O^(I|~k))+x[0]+4096336452&4294967295,w=I+(b<<6&4294967295|b>>>26),b=k+(I^(w|~O))+x[7]+1126891415&4294967295,k=w+(b<<10&4294967295|b>>>22),b=O+(w^(k|~I))+x[14]+2878612391&4294967295,O=k+(b<<15&4294967295|b>>>17),b=I+(k^(O|~w))+x[5]+4237533241&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~k))+x[12]+1700485571&4294967295,w=I+(b<<6&4294967295|b>>>26),b=k+(I^(w|~O))+x[3]+2399980690&4294967295,k=w+(b<<10&4294967295|b>>>22),b=O+(w^(k|~I))+x[10]+4293915773&4294967295,O=k+(b<<15&4294967295|b>>>17),b=I+(k^(O|~w))+x[1]+2240044497&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~k))+x[8]+1873313359&4294967295,w=I+(b<<6&4294967295|b>>>26),b=k+(I^(w|~O))+x[15]+4264355552&4294967295,k=w+(b<<10&4294967295|b>>>22),b=O+(w^(k|~I))+x[6]+2734768916&4294967295,O=k+(b<<15&4294967295|b>>>17),b=I+(k^(O|~w))+x[13]+1309151649&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~k))+x[4]+4149444226&4294967295,w=I+(b<<6&4294967295|b>>>26),b=k+(I^(w|~O))+x[11]+3174756917&4294967295,k=w+(b<<10&4294967295|b>>>22),b=O+(w^(k|~I))+x[2]+718787259&4294967295,O=k+(b<<15&4294967295|b>>>17),b=I+(k^(O|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(x[O++]=C.charCodeAt(k++),O==this.blockSize){l(this,x),O=0;break}}else for(;k<w;)if(x[O++]=C[k++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[w++]=this.g[I]>>>x&255;return C};function u(C,w){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let x=!0;for(let O=C.length-1;O>=0;O--){const k=C[O]|0;x&&k==w||(I[O]=k,x=!1)}this.g=I}var p={};function g(C){return-128<=C&&C<128?u(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(y(-C));const w=[];let I=1;for(let x=0;C>=I;x++)w[x]=C/I|0,I*=4294967296;return new d(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return J(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let x=S;for(let k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k);const b=parseInt(C.substring(k,k+O),w);O<8?(O=y(Math.pow(w,O)),x=x.j(O).add(y(b))):(x=x.j(I),x=x.add(y(b)))}return x}var S=g(0),D=g(1),B=g(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(C);const w=y(Math.pow(C,6));var I=this;let x="";for(;;){const O=Ut(I,w).g;I=ct(I,O.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,Z(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ct(this,C),et(C)?-1:Z(C)?0:1};function J(C){const w=C.g.length,I=[];for(let x=0;x<w;x++)I[x]=~C.g[x];return new d(I,~C.h).add(D)}r.abs=function(){return et(this)?J(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let O=0;O<=w;O++){let k=x+(this.i(O)&65535)+(C.i(O)&65535),b=(k>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=b>>>16,k&=65535,b&=65535,I[O]=b<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ct(C,w){return C.add(J(w))}r.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?J(this).j(J(C)):J(J(this).j(C));if(et(C))return J(this.j(J(C)));if(this.l(B)<0&&C.l(B)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<C.g.length;O++){const k=this.i(x)>>>16,b=this.i(x)&65535,qt=C.i(O)>>>16,he=C.i(O)&65535;I[2*x+2*O]+=b*he,yt(I,2*x+2*O),I[2*x+2*O+1]+=k*he,yt(I,2*x+2*O+1),I[2*x+2*O+1]+=b*qt,yt(I,2*x+2*O+1),I[2*x+2*O+2]+=k*qt,yt(I,2*x+2*O+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function yt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ft(C,w){this.g=C,this.h=w}function Ut(C,w){if(Z(w))throw Error("division by zero");if(Z(C))return new ft(S,S);if(et(C))return w=Ut(J(C),w),new ft(J(w.g),J(w.h));if(et(w))return w=Ut(C,J(w)),new ft(J(w.g),w.h);if(C.g.length>30){if(et(C)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=w;x.l(C)<=0;)I=Kt(I),x=Kt(x);var O=Mt(I,1),k=Mt(x,1);for(x=Mt(x,2),I=Mt(I,2);!Z(x);){var b=k.add(x);b.l(C)<=0&&(O=O.add(I),k=b),x=Mt(x,1),I=Mt(I,1)}return w=ct(C,O.j(w)),new ft(O,w)}for(O=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(I),b=k.j(w);et(b)||b.l(C)>0;)I-=x,k=y(I),b=k.j(w);Z(k)&&(k=D),O=O.add(k),C=ct(C,b)}return new ft(O,C)}r.B=function(C){return Ut(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function Kt(C){const w=C.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function Mt(C,w){const I=w>>5;w%=32;const x=C.g.length-I,O=[];for(let k=0;k<x;k++)O[k]=w>0?C.i(k+I)>>>w|C.i(k+I+1)<<32-w:C.i(k+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,G0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Kr=d}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q0,bl,Y0,Pc,hm,K0,X0,$0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,j){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[U].apply(A,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const j=U.length||0;c.length=v+j;for(let W=0;W<j;W++)c[v+W]=U[W]}else c.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ct(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new et(()=>new Ut,c=>c.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Mt=!1,C=new yt,w=()=>{const c=Promise.resolve(void 0);Kt=()=>{c.then(I)}};function I(){for(var c;c=ct();){try{c.h.call(c.g)}catch(v){J(v)}var m=ft;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Mt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function qt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(qt,O),qt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++H,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ft(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let j=0;j<K.length;j++)v=K[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,A,U){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const W=St(c,m,A,U);return W>-1?(m=c[W],v||(m.fa=!1)):(m=new tt(m,this.src,j,!!A,U),m.fa=v,c.push(m)),m};function gt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(A,U,1),j&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,A){for(let U=0;U<c.length;++U){const j=c[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(c,m,v,A,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(c,m[j],v,A,U);return null}return v=vo(v),c&&c[he]?c.J(m,v,p(A)?!!A.capture:!1,U):as(c,m,v,!1,A,U)}function as(c,m,v,A,U,j){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let Et=os(c);if(Et||(c[Vt]=Et=new st(c)),v=Et.add(m,v,A,W,j),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(U=W),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function ea(c,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)ea(c,m[j],v,A,U);else A=p(A)?!!A.capture:!!A,v=vo(v),c&&c[he]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=St(m,v,A,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=os(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,A,U)),(v=c>-1?m[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])gt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(si(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=os(m))?(gt(v,c),v.h==0&&(v.src=null,m[Vt]=null)):ht(c)}}}function si(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new qt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&na(c),c=v.call(A,m)}return c}function os(c){return c=c[Vt],c instanceof st?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function _e(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(_e,x),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(c,m,v,A){ea(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(A,c),nt(m,U)}U=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],U=lr(j,A,!0,m)&&U;if(j=m.g=c,U=lr(j,A,!0,m)&&U,U=lr(j,A,!1,m)&&U,v)for(W=0;W<v.length;W++)j=m.g=v[W],U=lr(j,A,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},_e.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function lr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const Et=W.listener,de=W.ha||W.src;W.fa&&gt(c.i,W),U=Et.call(de,A)!==!1&&U}}return U&&!A.defaultPrevented}function kh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Wl(c){c.g=kh(()=>{c.g=null,c.i&&(c.i=!1,Wl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){x.call(this),this.h=c,this.g={}}S(ls,x);var To=[];function Eo(c){Lt(c.g,function(m,v){this.g.hasOwnProperty(v)&&na(m)},c),c.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Eo(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Uh=d.JSON.parse,tu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function eu(){}function nu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function wn(){O.call(this,"c")}S(wn,O);var fe={},iu=null;function ia(){return iu=iu||new _e}fe.Ia="serverreachability";function ru(c){O.call(this,fe.Ia,c)}S(ru,O);function ai(c){const m=ia();Me(m,new ru(m))}fe.STAT_EVENT="statevent";function us(c,m){O.call(this,fe.STAT_EVENT,c),this.stat=m}S(us,O);function ve(c){const m=ia();Me(m,new us(m,c))}fe.Ja="timingevent";function oi(c,m){O.call(this,fe.Ja,c),this.size=m}S(oi,O);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Lh(c,m,v,A,U,j){c.info(function(){if(c.g)if(j){var W="",Et=j.split("&");for(let jt=0;jt<Et.length;jt++){var de=Et[jt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Dn=ae.split("_");W=Dn.length>=2&&Dn[1]=="type"?W+(ae+"="+de+"&"):W+(ae+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function su(c,m,v,A,U,j,W){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+W})}function ui(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(c,v)+(A?" "+A:"")})}function cs(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Ph(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return ur(j)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function fs(){}S(fs,eu),fs.prototype.g=function(){return new XMLHttpRequest},So=new fs;function Ui(c){return encodeURIComponent(String(c))}function au(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function qn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function ci(c,m,v){c.M=1,c.A=ds(Ae(m)),c.u=v,c.R=!0,ra(c,null)}function ra(c,m){c.F=Date.now(),hi(c),c.B=Ae(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=Eu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(To[0]=U.toString()),U=To);for(let j=0;j<U.length;j++){const W=se(v,U[j],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const Et=Qn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Et!=4||de==7||(de==8||jt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var j=A;break e}}j=null}if(c=j)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,ve(12),mn(this),Rn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=lu(this,v),ae==ke){Et==4&&(this.m=4,ve(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Te){this.m=4,ve(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ae,null),di(this,ae);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(W),W.P=!0,ve(11))}}else ui(this.i,this.l,v,null),di(this,v);Et==4&&mn(this),this.o&&!this.K&&(Et==4?yu(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),Rn(this)}}}catch{}finally{}};function zh(c){if(!ou(c))return c.g.la();const m=je(c.g);if(m==="")return"";let v="";const A=m.length,U=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(U&&j==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),c.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),m)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ai(),ve(17)),mn(this),this.m=2,Rn(this)):sa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||yu(c.j,c)}function mn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Eo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),yr(v);else break t;Ts(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&da(v),!b(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Dn=jt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=jt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Yn=jt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Kn=c.g;if(Kn){const Es=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var j=A.h;j.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ro(j,j.h),j.h=null))}if(A.G){const ma=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Gt(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var W=c;if(A.na=Tu(A,A.L?A.ba:null,A.W),W.L){Io(A.h,W);var Et=W,de=A.O;de&&(Et.H=de),Et.D&&(fi(Et),hi(Et)),A.g=W}else pu(A);v.i.length>0&&Ti(v)}else jt[0]!="stop"&&jt[0]!="close"||Ei(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ei(v,7):Uo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ai(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,j=null;A>=0?(U=c[v].substring(0,A),j=c[v].substring(A+1)):U=c[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Do(this,du(c.i)),this.m=c.m):c&&(m=String(c).match(uu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cr(this,m[4]),this.h=gi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ms(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ms(m,oa,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ms(v,v.charAt(0)=="/"?No:cu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ms(v,hu)),c.join("")},pn.prototype.resolve=function(c){const m=Ae(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let W=0;W<U.length;){const Et=U[W++];Et=="."?A&&W==U.length&&j.push(""):Et==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&W==U.length&&j.push("")):(j.push(Et),A=!0)}A=j.join("/")}else A=U}return v?m.h=A:v=c.i.toString()!=="",v?Do(m,du(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ae(c){return new pn(c)}function Ue(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof fr?(c.i=m,ua(c.i,c.l)):(v||(m=ms(m,hr)),c.i=new fr(m,c.l))}function Gt(c,m,v){c.i.set(m,v)}function ds(c){return Gt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,cu=/[#\?:]/g,No=/[#\?]/g,hr=/[#\?@]/g,hu=/#/g;function fr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,m){sn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function fu(c,m){sn(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return sn(c),m=dr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)};function Mo(c,m){sn(c);let v=[];if(typeof m=="string")Oo(c,m)&&(v=v.concat(c.g.get(dr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=dr(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function la(c,m,v){fu(c,m),v.length>0&&(c.i=null,c.g.set(dr(c,m),B(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Ui(v);v=Mo(this,v);for(let j=0;j<v.length;j++){let W=U;v[j]!==""&&(W+="="+Ui(v[j])),c.push(W)}}return this.i=c.join("&")};function du(c){const m=new fr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ua(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(fu(this,A),la(this,U,v))},c)),c.j=m}function Fn(c,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(In,v,"TestLoadImage: error",!1,m,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function xo(c,m){const v=new Bn,A=new AbortController,U=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function mr(){this.g=new tu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,eu),yi.prototype.g=function(){return new ps(this.i,this.h)};function ps(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ps,_e),r=ps.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?pr(this):Gn(this),this.readyState==3&&ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return Lt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function gs(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Ui(v):Gt(c,m,v))}function Xt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var _i=/^https?$/i,Vo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){ys(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){ys(this,j)}};function ys(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Li(c)}function ko(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let W=String(c.D).match(uu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!_i.test(W?W.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var U=Qn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",ko(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Uh(m)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(b(c[A]))continue;var v=au(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Ft(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function gr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){ve(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),Ti(this)};function Uo(c){if(ha(c),c.I==3){var m=c.V++,v=Ae(c.J);if(Gt(v,"SID",c.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),vs(c,v),m=new qn(c,c.j,m),m.M=2,m.A=ds(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}vu(c)}function yr(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function ha(c){yr(c),c.v&&(d.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ti(c){if(!wo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Kt||w(),Mt||(Kt(),Mt=!0),C.add(m,c),c.D=0}}function fa(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,m),_u(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new qn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,U,m),v=Ae(this.J),Gt(v,"RID",c),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),vs(this,v),j&&(this.R?m="headers="+Ui(Cn(j))+"&"+m:this.u&&gs(v,this.u,j)),Ro(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||wo(this.h)||Lo(this))};function Lo(c,m){var v;m?v=m.l:v=c.V++;const A=Ae(c.J);Gt(A,"SID",c.M),Gt(A,"RID",v),Gt(A,"AID",c.K),vs(c,A),c.u&&c.o&&gs(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),ci(v,A,m)}function vs(c,m){c.H&&Lt(c.H,function(v,A){Gt(m,A,v)}),c.l&&Lt({},function(v,A){Gt(m,A,v)})}function mu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Et=-1;for(;;){const de=["count="+v];Et==-1?v>0?(Et=U[0].g,de.push("ofs="+Et)):Et=0:de.push("ofs="+Et);let jt=!0;for(let ae=0;ae<v;ae++){var j=U[ae].g;const Dn=U[ae].map;if(j-=Et,j<0)Et=Math.max(0,U[ae].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var W=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Yn]of W){let Kn=Yn;p(Yn)&&(Kn=ur(Yn)),de.push(j+Ai+"="+encodeURIComponent(Kn))}}catch(Ai){throw de.push(j+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Dn)}}if(jt){W=de.join("&");break t}}W=void 0}return c=c.i.splice(0,v),m.G=c,W}function pu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Kt||w(),Mt||(Kt(),Mt=!0),C.add(m,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),_u(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),gu(this))};function Po(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function gu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ae(c.na);Gt(m,"RID","rpc"),Gt(m,"SID",c.M),Gt(m,"AID",c.K),Gt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Gt(m,"TO",c.ia),Gt(m,"TYPE","xmlhttp"),vs(c,m),c.u&&c.o&&gs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ds(Ae(m)),v.u=null,v.R=!0,ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ts(this),ve(19))};function da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function yu(c,m){var v=null;if(c.g==m){da(c),Po(c),c.g=null;var A=2}else if(pi(c.h,m))v=m.G,Io(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=ia(),Me(A,new oi(A,v)),Ti(c)}else pu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&fa(c,m)||A==2&&Ts(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function _u(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),ds(A),U?Fn(A.toString(),v):xo(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(m),vu(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vu(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Tu(c,m,v){var A=v instanceof pn?Ae(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new pn(null);A&&Ue(j,A),m&&(j.g=m),U&&cr(j,U),v&&(j.h=v),A=j}return v=c.G,m=c.wa,v&&m&&Gt(A,v,m),Gt(A,"VER",c.ka),vs(c,A),A}function Eu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new yi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){_e.call(this),this.g=new gr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!b(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&Ti(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.Z.N.call(this)};function Su(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Su,ze);function bu(){wn.call(this),this.status=1}S(bu,wn);function zi(c){this.g=c}S(zi,Au),zi.prototype.ra=function(){Me(this.g,"a")},zi.prototype.qa=function(c){Me(this.g,new Su(c))},zi.prototype.pa=function(c){Me(this.g,new bu)},zi.prototype.oa=function(){Me(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,$0=function(){return new _r},X0=function(){return ia()},K0=fe,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Pc=hs,Ao.COMPLETE="complete",Y0=Ao,nu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,bl=nu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Q0=Xt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",Bv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ho="12.3.0";const Gs=new dh("@firebase/firestore");function Fa(){return Gs.logLevel}function rt(r,...t){if(Gs.logLevel<=Dt.DEBUG){const n=t.map(Hm);Gs.debug(`Firestore (${ho}): ${r}`,...n)}}function ar(r,...t){if(Gs.logLevel<=Dt.ERROR){const n=t.map(Hm);Gs.error(`Firestore (${ho}): ${r}`,...n)}}function eo(r,...t){if(Gs.logLevel<=Dt.WARN){const n=t.map(Hm);Gs.warn(`Firestore (${ho}): ${r}`,...n)}}function Hm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function mt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Z0(r,s,n)}function Z0(r,t,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||Z0(t,l,s)}function Tt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class J0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class X2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new J0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Z2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class J2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Z2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=tI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return Yd(l)===Yd(u)?Nt(l,u):Yd(l)?1:-1}return Nt(r.length,t.length)}const eI=55296,nI=57343;function Yd(r){const t=r.charCodeAt(0);return t>=eI&&t<=nI}function no(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const Hv="__name__";class Ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&mt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ii.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const s=Ii.isNumericId(t),l=Ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class ee extends Ii{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ii{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return iI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Qe([Hv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}function W0(r,t,n){if(!n)throw new it(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function rI(r,t,n,s){if(t===!0&&s===!0)throw new it(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Fv(r){if(!ut.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gv(r){if(ut.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Xr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(r);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function Yl(r,t){if(!tE(r))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(X.INVALID_ARGUMENT,n);return!0}const Qv=-62135596800,Yv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Yv);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Qv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function sI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new Jr(l,ut.empty(),t)}function aI(r){return new Jr(r.readTime,r.key,Ul)}class Jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(_t.min(),ut.empty(),Ul)}static max(){return new Jr(_t.max(),ut.empty(),Ul)}}function oI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==lI)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>s(g)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,l)=>{const u=t.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{d[y]=E,++p,p===u&&s(d)}),(E=>l(E)))}}))}static doWhile(t,n){return new $(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function cI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}class _h{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Gm=-1;function vh(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function hI(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const eE="";function fI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Kv(t)),t=dI(r.get(n),t);return Kv(t)}function dI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case eE:n+="";break;default:n+=u}}return n}function Kv(r){return r+eE+""}function Xv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function rs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function nE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(t){return new $v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class $v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iE("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=mI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const rE="server_timestamp",sE="__type__",aE="__previous_value__",oE="__local_write_time__";function Qm(r){return(r?.mapValue?.fields||{})[sE]?.stringValue===rE}function Th(r){const t=r.mapValue.fields[aE];return Qm(t)?Th(t):t}function Ll(r){const t=Wr(r.mapValue.fields[oE].timestampValue);return new re(t.seconds,t.nanos)}class pI{constructor(t,n,s,l,u,d,p,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const th="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||th}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const lE="__type__",gI="__max__",Oc={mapValue:{}},uE="__vector__",eh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qm(r)?4:_I(r)?9007199254740991:yI(r)?10:11:mt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Wr(l.timestampValue),p=Wr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ts(l.bytesValue).isEqual(ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),p=ge(u.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Xv(d)!==Xv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ki(d[g],p[g])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function io(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ge(u.integerValue||u.doubleValue),g=ge(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return Zv(r.timestampValue,t.timestampValue);case 4:return Zv(Ll(r),Ll(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=ts(u),g=ts(d);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Nt(p[y],g[y]);if(E!==0)return E}return Nt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Nt(ge(u.latitude),ge(d.latitude));return p!==0?p:Nt(ge(u.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Jv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[eh]?.arrayValue,E=g[eh]?.arrayValue,S=Nt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Jv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Oc.mapValue&&d===Oc.mapValue)return 0;if(u===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const D=fm(g[S],E[S]);if(D!==0)return D;const B=io(p[g[S]],y[E[S]]);if(B!==0)return B}return Nt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function Zv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=Wr(r),s=Wr(t),l=Nt(n.seconds,s.seconds);return l!==0?l:Nt(n.nanos,s.nanos)}function Jv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=io(n[l],s[l]);if(u)return u}return Nt(n.length,s.length)}function ro(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ut.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${dm(n.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function zc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+zc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return rs(s.fields,((u,d)=>{l+=u.length+zc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Wv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function tT(r){return!!r&&"nullValue"in r}function eT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function yI(r){return(r?.mapValue?.fields||{})[lE]?.stringValue===uE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return{...r}}function _I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){rs(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new fn(Nl(this.value))}}function cE(r){const t=[];return rs(r.fields,((n,s)=>{const l=new Qe([n]);if(jc(s)){const u=cE(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Ze{constructor(t,n,s,l,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,n,s,l){return new Ze(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new Ze(t,2,n,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,n){this.position=t,this.inclusive=n}}function nT(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),n.key):s=io(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}class jl{constructor(t,n="asc"){this.field=t,this.dir=n}}function vI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class hE{}class Ce extends hE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new EI(t,n,s):n==="array-contains"?new bI(t,s):n==="in"?new wI(t,s):n==="not-in"?new RI(t,s):n==="array-contains-any"?new II(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AI(t,s):new SI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends hE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return fE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fE(r){return r.op==="and"}function dE(r){return TI(r)&&fE(r)}function TI(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function pm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(dE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((n=>pm(n))).join(",");return`${r.op}(${t})`}}function mE(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&ki(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&mE(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function pE(r){return r instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(pE).join(" ,")+"}"})(r):"Filter"}class EI extends Ce{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class AI extends Ce{constructor(t,n){super(t,"in",n),this.keys=gE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class SI extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=gE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function gE(r,t){return(t.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class bI extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ym(n)&&zl(n.arrayValue,this.value)}}class wI extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class RI extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class II extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zl(this.value.arrayValue,s)))}}class CI{constructor(t,n=null,s=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function rT(r,t=null,n=[],s=[],l=null,u=null,d=null){return new CI(r,t,n,s,l,u,d)}function Km(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>pm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ro(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ro(s))).join(",")),t.Te=n}return t.Te}function Xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!mE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!iT(r.startAt,t.startAt)&&iT(r.endAt,t.endAt)}function gm(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class po{constructor(t,n=null,s=[],l=[],u=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DI(r,t,n,s,l,u,d,p){return new po(r,t,n,s,l,u,d,p)}function $m(r){return new po(r)}function sT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yE(r){return r.collectionGroup!==null}function Ol(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new jl(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new jl(Qe.keyField(),s))}return t.Ie}function Di(r){const t=Tt(r);return t.Ee||(t.Ee=NI(t,Ol(r))),t.Ee}function NI(r,t){if(r.limitType==="F")return rT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new jl(l.field,u)}));const n=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return rT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function ym(r,t){const n=r.filters.concat([t]);return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,t,n){return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Eh(r,t){return Xm(Di(r),Di(t))&&r.limitType===t.limitType}function _E(r){return`${Km(Di(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>pE(l))).join(", ")}]`),vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ro(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Ah(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ut.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Ol(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,Ol(s),l)||s.endAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,Ol(s),l))})(r,t)}function OI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vE(r){return(t,n)=>{let s=!1;for(const l of Ol(r)){const u=MI(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function MI(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?io(g,y):mt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class Zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}const xI=new le(ut.comparator);function or(){return xI}const TE=new le(ut.comparator);function wl(...r){let t=TE;for(const n of r)t=t.insert(n.key,n);return t}function EE(r){let t=TE;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function zs(){return Ml()}function AE(){return Ml()}function Ml(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const VI=new le(ut.comparator),kI=new Ve(ut.comparator);function Ot(...r){let t=kI;for(const n of r)t=t.add(n);return t}const UI=new Ve(Nt);function LI(){return UI}function Zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function SE(r){return{integerValue:""+r}}function PI(r,t){return hI(t)?SE(t):Zm(r,t)}class Sh{constructor(){this._=void 0}}function zI(r,t,n){return r instanceof ih?(function(l,u){const d={fields:{[sE]:{stringValue:rE},[oE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Qm(u)&&(u=Th(u)),u&&(d.fields[aE]=u),{mapValue:d}})(n,t):r instanceof Bl?wE(r,t):r instanceof ql?RE(r,t):(function(l,u){const d=bE(l,u),p=aT(d)+aT(l.Ae);return mm(d)&&mm(l.Ae)?SE(p):Zm(l.serializer,p)})(r,t)}function jI(r,t,n){return r instanceof Bl?wE(r,t):r instanceof ql?RE(r,t):n}function bE(r,t){return r instanceof rh?(function(s){return mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ih extends Sh{}class Bl extends Sh{constructor(t){super(),this.elements=t}}function wE(r,t){const n=IE(t);for(const s of r.elements)n.some((l=>ki(l,s)))||n.push(s);return{arrayValue:{values:n}}}class ql extends Sh{constructor(t){super(),this.elements=t}}function RE(r,t){let n=IE(t);for(const s of r.elements)n=n.filter((l=>!ki(l,s)));return{arrayValue:{values:n}}}class rh extends Sh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function aT(r){return ge(r.integerValue||r.doubleValue)}function IE(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Bl&&l instanceof Bl||s instanceof ql&&l instanceof ql?no(s.elements,l.elements,ki):s instanceof rh&&l instanceof rh?ki(s.Ae,l.Ae):s instanceof ih&&l instanceof ih})(r.transform,t.transform)}class qI{constructor(t,n){this.version=t,this.transformResults=n}}class ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function CE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Jm(r.key,ei.none()):new Kl(r.key,r.data,ei.none());{const n=r.data,s=fn.empty();let l=new Ve(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ss(r.key,s,new Sn(l.toArray()),ei.none())}}function HI(r,t,n){r instanceof Kl?(function(l,u,d){const p=l.value.clone(),g=lT(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof ss?(function(l,u,d){if(!Bc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=lT(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(DE(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function xl(r,t,n,s){return r instanceof Kl?(function(u,d,p,g){if(!Bc(u.precondition,d))return p;const y=u.value.clone(),E=uT(u.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ss?(function(u,d,p,g){if(!Bc(u.precondition,d))return p;const y=uT(u.fieldTransforms,g,d),E=d.data;return E.setAll(DE(u)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,d,p){return Bc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function FI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=bE(s.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function oT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((u,d)=>BI(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends bh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends bh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function lT(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=t.data.field(u.field);s.set(u.field,jI(d,p,n[l]))}return s}function uT(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,zI(u,d,t))}return s}class Jm extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&HI(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=xl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=xl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=AE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=CE(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((n,s)=>oT(n,s)))&&no(this.baseMutations,t.baseMutations,((n,s)=>oT(n,s)))}}class Wm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return VI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Wm(t,n,s,l)}}class YI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,kt;function XI(r){switch(r){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function NE(r){if(r===void 0)return ar("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ie.OK:return X.OK;case Ie.CANCELLED:return X.CANCELLED;case Ie.UNKNOWN:return X.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return X.INTERNAL;case Ie.UNAVAILABLE:return X.UNAVAILABLE;case Ie.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ie.NOT_FOUND:return X.NOT_FOUND;case Ie.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ie.ABORTED:return X.ABORTED;case Ie.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ie.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:r})}}(kt=Ie||(Ie={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const ZI=new Kr([4294967295,4294967295],0);function cT(r){const t=$I().encode(r),n=new G0;return n.update(t),new Uint8Array(n.digest())}function hT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Kr([n,s],0),new Kr([l,u],0)]}class tp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Kr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Kr.fromNumber(s)));return l.compare(ZI)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=cT(t),[s,l]=hT(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new tp(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=cT(t),[s,l]=hT(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new wh(_t.min(),l,new le(Nt),or(),Ot())}}class Xl{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Xl(s,n,Ot(),Ot(),Ot())}}class qc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class OE{constructor(t,n){this.targetId=t,this.Ce=n}}class ME{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class fT{constructor(){this.ve=0,this.Fe=dT(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:u})}})),new Xl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=dT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JI{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=Mc(),this.He=Mc(),this.Ye=new le(Nt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(gm(u))if(s===0){const d=new ut(u.path);this.et(n,d,Ze.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=ts(s).toUint8Array()}catch(g){if(g instanceof iE)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new tp(d,l,u)}catch(g){return eo(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&gm(p.target)){const g=new ut(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Ze.newNoDocument(g,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Ot();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new wh(t,n,this.Ye,this.je,s);return this.je=or(),this.Je=Mc(),this.He=Mc(),this.Ye=new le(Nt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new fT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Nt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Nt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Mc(){return new le(ut.comparator)}function dT(){return new le(ut.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},tC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class nC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vm(r,t){return r.useProto3Json||vh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iC(r,t){return sh(r,t.toTimestamp())}function Ni(r){return Ht(!!r,49232),_t.fromTimestamp((function(n){const s=Wr(n);return new re(s.seconds,s.nanos)})(r))}function ep(r,t){return Tm(r,t).canonicalString()}function Tm(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function VE(r){const t=ee.fromString(r);return Ht(zE(t),10190,{key:t.toString()}),t}function Em(r,t){return ep(r.databaseId,t.path)}function Kd(r,t){const n=VE(t);if(n.get(1)!==r.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(UE(n))}function kE(r,t){return ep(r.databaseId,t)}function rC(r){const t=VE(r);return t.length===4?ee.emptyPath():UE(t)}function Am(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mT(r,t,n){return{name:Em(r,t),fields:n.value.mapValue.fields}}function sC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?X.UNKNOWN:NE(y.code);return new it(E,y.message||"")})(d);n=new ME(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Kd(r,s.document.name),u=Ni(s.document.updateTime),d=s.document.createTime?Ni(s.document.createTime):_t.min(),p=new fn({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(l,u,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new qc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Kd(r,s.document),u=s.readTime?Ni(s.readTime):_t.min(),d=Ze.newNoDocument(l,u),p=s.removedTargetIds||[];n=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Kd(r,s.document),u=s.removedTargetIds||[];n=new qc([],u,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new KI(l,u),p=s.targetId;n=new OE(p,d)}}return n}function aC(r,t){let n;if(t instanceof Kl)n={update:mT(r,t.key,t.value)};else if(t instanceof Jm)n={delete:Em(r,t.key)};else if(t instanceof ss)n={update:mT(r,t.key,t.data),updateMask:pC(t.fieldMask)};else{if(!(t instanceof GI))return mt(16599,{Vt:t.type});n={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:iC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:mt(27497)})(r,t.precondition)),n}function oC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Ni(l.updateTime):Ni(u);return d.isEqual(_t.min())&&(d=Ni(u)),new qI(d,l.transformResults||[])})(n,t)))):[]}function lC(r,t){return{documents:[kE(r,t.path)]}}function uC(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kE(r,l);const u=(function(y){if(y.length!==0)return PE(ii.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:Qa(D.field),direction:fC(D.dir)}})(E)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=vm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function cC(r){let t=rC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const D=LE(S);return D instanceof ii&&dE(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((D=>(function(Z){return new jl(Ya(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,vh(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(S){const D=!!S.before,B=S.values||[];return new nh(B,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const D=!S.before,B=S.values||[];return new nh(B,D)})(n.endAt)),DI(t,l,d,u,p,"F",g,y)}function hC(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(n.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(n.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ce.create(Ya(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>LE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(r):mt(30097,{filter:r})}function fC(r){return WI[r]}function dC(r){return tC[r]}function mC(r){return eC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Qe.fromServerFormat(r.fieldPath)}function PE(r){return r instanceof Ce?(function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:dC(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((l=>PE(l)));return s.length===1?s[0]:{compositeFilter:{op:mC(n.op),filters:s}}})(r):mt(54877,{filter:r})}function pC(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(t,n,s,l,u=_t.min(),d=_t.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gC{constructor(t){this.yt=t}}function yC(r){const t=cC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}class _C{constructor(){this.Cn=new vC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Jr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Jr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class vC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(jE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const gT="LruGarbageCollector",TC=1048576;function yT([r,t],[n,s]){const l=Nt(r,n);return l===0?Nt(t,s):l}class EC{constructor(t){this.Ir=t,this.buffer=new Ve(yT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(gT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?rt(gT,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Vr(3e5)}))}}class SC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(_h.ce);const s=new EC(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(pT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,d,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Fa()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function bC(r,t){return new SC(r,t)}class wC{constructor(){this.changes=new Zs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class IC{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&xl(s.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const l=zs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=wl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let u=or();const d=Ml(),p=(function(){return Ml()})();return n.forEach(((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),xl(E.mutation,y,E.mutation.getFieldMask(),re.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>p.set(y,new RC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Ml();let l=new le(((d,p)=>d-p)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Sn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(l.get(p.batchId)||Ot()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=AE();E.forEach((D=>{if(!u.has(D)){const B=CE(n.get(D),s.get(D));B!==null&&S.set(D,B),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):yE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(zs());let p=Ul,g=u;return d.next((y=>$.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Ot()))).next((E=>({batchId:p,changes:EE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next((s=>{let l=wl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(g=>{const y=(function(S,D){return new po(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((E=>{E.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let p=wl();return d.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&xl(E.mutation,y,Sn.empty(),re.now()),Ah(n,y)&&(p=p.insert(g,y))})),p}))}}class CC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:yC(l.bundledQuery),readTime:Ni(l.readTime)}})(n)),$.resolve()}}class DC{constructor(){this.overlays=new le(ut.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=zs();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=zs(),u=n.length+1,d=new ut(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new le(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return $.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new YI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ot(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class NC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class np{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ut(new ee([])),s=new Pe(n,t),l=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ut(new ee([])),s=new Pe(n,t),l=new Pe(n,t+1);let u=Ot();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ut.comparator(t.key,n.key)||Nt(t.Yr,n.Yr)}static Kr(t,n){return Nt(t.Yr,n.Yr)||ut.comparator(t.key,n.key)}}class OC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QI(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Nt);return n.forEach((l=>{const u=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;ut.isDocumentKey(u)||(u=u.child(""));const d=new Pe(new ut(u),0);let p=new Ve(Nt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Pe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MC{constructor(t){this.ri=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=or();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Ze.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=or();const d=n.path,p=new ut(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||oI(aI(E),s)<=0||(l.has(E.key)||Ah(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){mt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new xC(this)}getSize(t){return $.resolve(this.size)}}class xC extends wC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class VC{constructor(t){this.persistence=t,this.si=new Zs((n=>Km(n)),Xm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new so(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}class BE{constructor(t,n){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new NC,this.referenceDelegate=t(this),this.Pi=new VC(this),this.indexManager=new _C,this.remoteDocumentCache=(function(l){return new MC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gC(n),this.Ii=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new OC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new kC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class kC extends uI{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ri=new np,this.Vi=null}static mi(t){return new ip(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ut.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ah{constructor(t,n){this.persistence=t,this.pi=new Zs((s=>fI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=bC(this,n)}static mi(t,n){return new ah(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Ot(),l=Ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rp(t,n.fromCache,s,l)}}class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class LC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wb()?8:cI(Je())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new UC;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Fa()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Fa()<=Dt.DEBUG&&rt("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Fa()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):$.resolve())}ys(t,n){if(sT(n))return $.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=_m(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Ot(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(t,_m(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,l){return sT(n)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?$.resolve(null):(Fa()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(n)),this.vs(t,d,n,sI(l,Ul)).next((p=>p)))}))}Ds(t,n){let s=new Ve(vE(t));return n.forEach(((l,u)=>{Ah(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Fa()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(t,n,Jr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const sp="LocalStore",PC=3e8;class zC{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(Nt),this.xs=new Zs((u=>Km(u)),Xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function jC(r,t,n,s){return new zC(r,t,n,s)}async function qE(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let g=Ot();for(const y of l){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function BC(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,D=S.keys();let B=$.resolve();return D.forEach((Z=>{B=B.next((()=>E.getEntry(g,Z))).next((et=>{const J=y.docVersions.get(Z);Ht(J!==null,48541),et.version.compareTo(J)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),E.addEntry(et)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function HE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function qC(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((E,S)=>{const D=l.get(S);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let B=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),l=l.insert(S,B),(function(et,J,ct){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=PC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(D,B,E)&&p.push(n.Pi.updateTargetData(u,B))}));let g=or(),y=Ot();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(HC(u,d,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(_t.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function HC(r,t,n){let s=Ot(),l=Ot();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=or();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):rt(sp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function FC(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function GC(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Gr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Sm(r,t,n){const s=Tt(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt(sp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function _T(r,t,n){const s=Tt(r);let l=_t.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const S=Tt(g),D=S.xs.get(E);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,E)})(s,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?u:Ot()))).next((p=>(QC(s,OI(t),p),{documents:p,Qs:u})))))}function QC(r,t,n){let s=r.Os.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class vT{constructor(){this.activeTargetIds=LI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YC{constructor(){this.Mo=new vT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new vT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KC{Oo(t){}shutdown(){}}const TT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(TT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(TT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function bm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Xd="RestConnection",XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $C{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const d=bm(),p=this.zo(t,n.toUriEncodedString());rt(Xd,`Sending RPC '${t}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),E=lo(y);return this.Jo(t,p,g,s,E).then((S=>(rt(Xd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw eo(Xd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,n,s,l,u,d){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=XC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ZC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class JC extends $C{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const d=bm();return new Promise(((p,g)=>{const y=new Q0;y.setWithCredentials(!0),y.listenOnce(Y0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const S=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Pc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),g(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const D=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const et=(function(ct){const yt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(yt)>=0?yt:X.UNKNOWN})(Z.status);g(new it(et,Z.message))}else g(new it(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new it(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const l=bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=$0(),p=X0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${E}`,g);const S=d.createWebChannel(E,g);this.I_(S);let D=!1,B=!1;const Z=new ZC({Yo:J=>{B?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),et=(J,ct,yt)=>{J.listen(ct,(ft=>{try{yt(ft)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return et(S,bl.EventType.OPEN,(()=>{B||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(S,bl.EventType.CLOSE,(()=>{B||(B=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),et(S,bl.EventType.ERROR,(J=>{B||(B=!0,eo(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),et(S,bl.EventType.MESSAGE,(J=>{if(!B){const ct=J.data[0];Ht(!!ct,16349);const yt=ct,ft=yt?.error||yt[0]?.error;if(ft){rt(Xe,`RPC '${t}' stream ${l} received error:`,ft);const Ut=ft.status;let Kt=(function(w){const I=Ie[w];if(I!==void 0)return NE(I)})(Ut),Mt=ft.message;Kt===void 0&&(Kt=X.INTERNAL,Mt="Unknown error status: "+Ut+" with message "+ft.message),B=!0,Z.a_(new it(Kt,Mt)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,ct),Z.u_(ct)}})),et(p,K0.STAT_EVENT,(J=>{J.stat===hm.PROXY?rt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===hm.NOPROXY&&rt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function $d(){return typeof document<"u"?document:null}function Rh(r){return new nC(r,!0)}class FE{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const AT="PersistentStream";class GE{constructor(t,n,s,l,u,d,p,g){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(AT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WC extends GE{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=sC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ni(d.readTime):_t.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Am(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=gm(g)?{documents:lC(u,g)}:{query:uC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=xE(u,d.resumeToken);const y=vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=sh(u,d.snapshotVersion.toTimestamp());const y=vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=hC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Am(this.serializer),n.removeTarget=t,this.q_(n)}}class tD extends GE{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=oC(t.writeResults,t.commitTime),s=Ni(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Am(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>aC(this.serializer,s)))};this.q_(n)}}class eD{}class nD extends eD{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Tm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(X.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Tm(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class rD{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Js(this)&&(rt(Qs,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await $l(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Ra=new iD(s,l)}}async function Ih(r){if(Js(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function QE(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),up(n)?lp(n):go(n).O_()&&op(n,t))}function ap(r,t){const n=Tt(r),s=go(n);n.Ia.delete(t),s.O_()&&YE(n,t),n.Ia.size===0&&(s.O_()?s.L_():Js(n)&&n.Ra.set("Unknown"))}function op(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(r).Y_(t)}function YE(r,t){r.Va.Ue(t),go(r).Z_(t)}function lp(r){r.Va=new JI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function up(r){return Js(r)&&!go(r).x_()&&r.Ia.size>0}function Js(r){return Tt(r).Ea.size===0}function KE(r){r.Va=void 0}async function sD(r){r.Ra.set("Online")}async function aD(r){r.Ia.forEach(((t,n)=>{op(r,t)}))}async function oD(r,t){KE(r),up(r)?(r.Ra.ha(t),lp(r)):r.Ra.set("Unknown")}async function lD(r,t,n){if(r.Ra.set("Online"),t instanceof ME&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){rt(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await oh(r,s)}else if(t instanceof qc?r.Va.Ze(t):t instanceof OE?r.Va.st(t):r.Va.tt(t),!n.isEqual(_t.min()))try{const s=await HE(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),YE(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);op(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){rt(Qs,"Failed to raise snapshot:",s),await oh(r,s)}}async function oh(r,t,n){if(!mo(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),n||(n=()=>HE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ih(r)}))}function XE(r,t){return t().catch((n=>oh(r,n,t)))}async function Ch(r){const t=Tt(r),n=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gm;for(;uD(t);)try{const l=await FC(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,cD(t,l)}catch(l){await oh(t,l)}$E(t)&&ZE(t)}function uD(r){return Js(r)&&r.Ta.length<10}function cD(r,t){r.Ta.push(t);const n=ns(r);n.O_()&&n.X_&&n.ea(t.mutations)}function $E(r){return Js(r)&&!ns(r).x_()&&r.Ta.length>0}function ZE(r){ns(r).start()}async function hD(r){ns(r).ra()}async function fD(r){const t=ns(r);for(const n of r.Ta)t.ea(n.mutations)}async function dD(r,t,n){const s=r.Ta.shift(),l=Wm.from(s,t,n);await XE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function mD(r,t){t&&ns(r).X_&&await(async function(s,l){if((function(d){return XI(d)&&d!==X.ABORTED})(l.code)){const u=s.Ta.shift();ns(s).B_(),await XE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ch(s)}})(r,t),$E(r)&&ZE(r)}async function ST(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),rt(Qs,"RemoteStore received new credentials");const s=Js(n);n.Ea.add(3),await $l(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ih(n)}async function pD(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Ih(n)):t||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(n,s,l){const u=Tt(n);return u.sa(),new WC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:sD.bind(null,r),t_:aD.bind(null,r),r_:oD.bind(null,r),H_:lD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),up(r)?lp(r):r.Ra.set("Unknown")):(await r.ma.stop(),KE(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,l){const u=Tt(n);return u.sa(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hD.bind(null,r),r_:mD.bind(null,r),ta:fD.bind(null,r),na:dD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class cp{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,p=new cp(t,n,d,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(r,t){if(ar("AsyncQueue",`${t}: ${r}`),mo(r))return new it(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class bT{constructor(){this.ga=new le(ut.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ao{constructor(t,n,s,l,u,d,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,n,Za.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class gD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yD{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Tt(n),u=l.queries;l.queries=wT(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function wT(){return new Zs((r=>_E(r)),Eh)}async function _D(r,t){const n=Tt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new gD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=hp(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&fp(n)}async function vD(r,t){const n=Tt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TD(r,t){const n=Tt(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&fp(n)}function ED(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function fp(r){r.Ca.forEach((t=>{t.next()}))}var wm,RT;(RT=wm||(wm={})).Ma="default",RT.Cache="cache";class AD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class JE{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class SD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=vE(t),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new bT,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const D=l.get(E),B=Ah(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;D&&B?D.data.isEqual(B.data)?Z!==et&&(s.track({type:3,doc:B}),J=!0):this.su(D,B)||(s.track({type:2,doc:B}),J=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!D&&B?(s.track({type:0,doc:B}),J=!0):D&&!B&&(s.track({type:1,doc:D}),J=!0,(g||y)&&(p=!0)),J&&(B?(d=d.add(B),u=et?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,S)=>(function(B,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return et(B)-et(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new ao(this.query,t.tu,u,d,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new WE(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new JE(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class bD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class wD{constructor(t){this.key=t,this.hu=!1}}class RD{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((p=>_E(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ut.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ID(r,t,n=!0){const s=s1(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await t1(s,t,n,!0),l}async function CD(r,t){const n=s1(r);await t1(n,t,!0,!1)}async function t1(r,t,n,s){const l=await GC(r.localStore,Di(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await DD(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&QE(r.remoteStore,l),p}async function DD(r,t,n,s,l){r.pu=(S,D,B)=>(async function(et,J,ct,yt){let ft=J.view.ru(ct);ft.Cs&&(ft=await _T(et.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,ft))));const Ut=yt&&yt.targetChanges.get(J.targetId),Kt=yt&&yt.targetMismatches.get(J.targetId)!=null,Mt=J.view.applyChanges(ft,et.isPrimaryClient,Ut,Kt);return CT(et,J.targetId,Mt.au),Mt.snapshot})(r,S,D,B);const u=await _T(r.localStore,t,!0),d=new SD(t,u.Qs),p=d.ru(u.documents),g=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,g);CT(r,n,y.au);const E=new bD(t,n,d);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function ND(r,t,n){const s=Tt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Eh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&ap(s.remoteStore,l.targetId),Rm(s,l.targetId)})).catch(fo)):(Rm(s,l.targetId),await Sm(s.localStore,l.targetId,!0))}async function OD(r,t){const n=Tt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ap(n.remoteStore,s.targetId))}async function MD(r,t,n){const s=zD(r);try{const l=await(function(d,p){const g=Tt(d),y=re.now(),E=p.reduce(((B,Z)=>B.add(Z.key)),Ot());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=or(),et=Ot();return g.Ns.getEntries(B,E).next((J=>{Z=J,Z.forEach(((ct,yt)=>{yt.isValidDocument()||(et=et.add(ct))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Z))).next((J=>{S=J;const ct=[];for(const yt of p){const ft=FI(yt,S.get(yt.key).overlayedDocument);ft!=null&&ct.push(new ss(yt.key,ft,cE(ft.value.mapValue),ei.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ct,p)})).next((J=>{D=J;const ct=J.applyToLocalDocumentSet(S,et);return g.documentOverlayCache.saveOverlays(B,J.batchId,ct)}))})).then((()=>({batchId:D.batchId,changes:EE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Nt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,n),await Zl(s,l.changes),await Ch(s.remoteStore)}catch(l){const u=hp(l,"Failed to persist write");n.reject(u)}}async function e1(r,t){const n=Tt(r);try{const s=await qC(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Zl(n,s,t)}catch(s){await fo(s)}}function IT(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Tt(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const D of S.Sa)D.va(p)&&(y=!0)})),y&&fp(g)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xD(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new le(ut.comparator);d=d.insert(u,Ze.newNoDocument(u,_t.min()));const p=Ot().add(u),g=new wh(_t.min(),new Map,new le(Nt),d,p);await e1(s,g),s.du=s.du.remove(u),s.Au.delete(t),mp(s)}else await Sm(s.localStore,t,!1).then((()=>Rm(s,t,n))).catch(fo)}async function VD(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await BC(n.localStore,t);i1(n,s,null),n1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,l)}catch(l){await fo(l)}}async function kD(r,t,n){const s=Tt(r);try{const l=await(function(d,p){const g=Tt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ht(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);i1(s,t,n),n1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zl(s,l)}catch(l){await fo(l)}}function n1(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function i1(r,t,n){const s=Tt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Rm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||r1(r,s)}))}function r1(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(ap(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),mp(r))}function CT(r,t,n){for(const s of n)s instanceof JE?(r.Ru.addReference(s.key,t),UD(r,s)):s instanceof WE?(rt(dp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||r1(r,s.key)):mt(19791,{wu:s})}function UD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(dp,"New document in limbo: "+n),r.Eu.add(s),mp(r))}function mp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ut(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new wD(n)),r.du=r.du.insert(n,s),QE(r.remoteStore,new Gr(Di($m(n.path)),s,"TargetPurposeLimboResolution",_h.ce))}}async function Zl(r,t,n){const s=Tt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=rp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(D=>$.forEach(D.Es,(B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B))).next((()=>$.forEach(D.ds,(B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))))))}catch(S){if(!mo(S))throw S;rt(sp,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const B=E.Ms.get(D),Z=B.snapshotVersion,et=B.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(D,et)}}})(s.localStore,u))}async function LD(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){rt(dp,"User change. New user:",t.toKey());const s=await qE(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new it(X.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ls)}}function PD(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function s1(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xD.bind(null,t),t.Pu.H_=TD.bind(null,t.eventManager),t.Pu.yu=ED.bind(null,t.eventManager),t}function zD(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jC(this.persistence,new LC,t.initialUser,this.serializer)}Cu(t){return new BE(ip.mi,this.serializer)}Du(t){return new YC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class jD extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new BE((s=>ah.mi(s,n)),this.serializer)}}class Im{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yD})()}createDatastore(t){const n=Rh(t.databaseInfo.databaseId),s=(function(u){return new JC(u)})(t.databaseInfo);return(function(u,d,p,g){return new nD(u,d,p,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,p){return new rD(s,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>IT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new KC})())}createSyncEngine(t,n){return(function(l,u,d,p,g,y,E){const S=new RD(l,u,d,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);rt(Qs,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class BD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const is="FirestoreClient";class qD{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{rt(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=hp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await qE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function DT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await HD(r);rt(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ST(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>ST(t.remoteStore,l))),r._onlineComponents=t}async function HD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(is,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new lh)}}else rt(is,"Using default OfflineComponentProvider"),await Zd(r,new jD(void 0));return r._offlineComponents}async function a1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(is,"Using user provided OnlineComponentProvider"),await DT(r,r._uninitializedComponentsProvider._online)):(rt(is,"Using default OnlineComponentProvider"),await DT(r,new Im))),r._onlineComponents}function FD(r){return a1(r).then((t=>t.syncEngine))}async function NT(r){const t=await a1(r),n=t.eventManager;return n.onListen=ID.bind(null,t.syncEngine),n.onUnlisten=ND.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OD.bind(null,t.syncEngine),n}function o1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const OT=new Map;const l1="firestore.googleapis.com",MT=!0;class xT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=MT}else this.host=t.host,this.ssl=t.ssl??MT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TC)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new K2;switch(s.type){case"firstParty":return new J2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=OT.get(n);s&&(rt("ComponentProvider","Removing Datastore"),OT.delete(n),s.terminate())})(this),Promise.resolve()}}function GD(r,t,n,s={}){r=Xr(r,Dh);const l=lo(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(r0(`https://${p}`),s0("Firestore",!0)),u.host!==l1&&u.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!Zr(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=yb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new X2(new J0(y,E))}}class Ws{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class Ne{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Yl(n,Ne._jsonSchema))return new Ne(t,s||null,new ut(ee.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:De("string",Ne._jsonSchemaVersion),referencePath:De("string")};class $r extends Ws{constructor(t,n,s){super(t,n,$m(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ut(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function VT(r,t,...n){if(r=ye(r),W0("collection","path",t),r instanceof Dh){const s=ee.fromString(t,...n);return Gv(s),new $r(r,null,s)}{if(!(r instanceof Ne||r instanceof $r))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Gv(s),new $r(r.firestore,null,s)}}function Hc(r,t,...n){if(r=ye(r),arguments.length===1&&(t=Fm.newId()),W0("doc","path",t),r instanceof Dh){const s=ee.fromString(t,...n);return Fv(s),new Ne(r,null,new ut(s))}{if(!(r instanceof Ne||r instanceof $r))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Fv(s),new Ne(r.firestore,r instanceof $r?r.converter:null,new ut(s))}}const kT="AsyncQueue";class UT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&rt(kT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(kT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",LT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=cp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:LT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function LT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function PT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class oo extends Dh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new UT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UT(t),this._firestoreClient=void 0,await t}}}function QD(r,t){const n=typeof r=="object"?r:Mm(),s=typeof r=="string"?r:th,l=$s(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=pb("firestore");u&&GD(l,...u)}return l}function u1(r){if(r._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YD(r),r._firestoreClient}function YD(r){const t=r._freezeSettings(),n=(function(l,u,d,p){return new pI(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,o1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new qD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(n){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:De("string",Pn._jsonSchemaVersion),bytes:De("string")};class Nh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pp{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:De("string",Mi._jsonSchemaVersion),vectorValues:De("object")};const KD=/^__.*__$/;class XD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ss(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}class c1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ss(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function h1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class gp{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(h1(this.Ac)&&KD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class $D{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Rh(t)}Cc(t,n,s,l=!1){return new gp({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(r){const t=r._freezeSettings(),n=Rh(r._databaseId);return new $D(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ZD(r,t,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);_p("Data must be an object, but it was:",d,s);const p=f1(s,d);let g,y;if(u.merge)g=new Sn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const D=Cm(t,S,n);if(!d.contains(D))throw new it(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);m1(E,D)||E.push(D)}g=new Sn(E),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new XD(new fn(p),g,y)}class Oh extends pp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function JD(r,t,n,s){const l=r.Cc(1,t,n);_p("Data must be an object, but it was:",l,s);const u=[],d=fn.empty();rs(s,((g,y)=>{const E=vp(t,g,n);y=ye(y);const S=l.yc(E);if(y instanceof Oh)u.push(E);else{const D=Jl(y,S);D!=null&&(u.push(E),d.set(E,D))}}));const p=new Sn(u);return new c1(d,p,l.fieldTransforms)}function WD(r,t,n,s,l,u){const d=r.Cc(1,t,n),p=[Cm(t,s,n)],g=[l];if(u.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(Cm(t,u[D])),g.push(u[D+1]);const y=[],E=fn.empty();for(let D=p.length-1;D>=0;--D)if(!m1(y,p[D])){const B=p[D];let Z=g[D];Z=ye(Z);const et=d.yc(B);if(Z instanceof Oh)y.push(B);else{const J=Jl(Z,et);J!=null&&(y.push(B),E.set(B,J))}}const S=new Sn(y);return new c1(E,S,d.fieldTransforms)}function tN(r,t,n,s=!1){return Jl(n,r.Cc(s?4:3,t))}function Jl(r,t){if(d1(r=ye(r)))return _p("Unsupported field value:",t,r),f1(r,t);if(r instanceof pp)return(function(s,l){if(!h1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let g=Jl(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:sh(l.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(l.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:xE(l.serializer,s._byteString)};if(s instanceof Ne){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ep(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Mi)return(function(d,p){return{mapValue:{fields:{[lE]:{stringValue:uE},[eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zm(p.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${yh(s)}`)})(r,t)}function f1(r,t){const n={};return nE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(r,((s,l)=>{const u=Jl(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Oi||r instanceof Pn||r instanceof Ne||r instanceof pp||r instanceof Mi)}function _p(r,t,n){if(!d1(n)||!tE(n)){const s=yh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Cm(r,t,n){if((t=ye(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return vp(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const eN=new RegExp("[~\\*/\\[\\]]");function vp(r,t,n){if(t.search(eN)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Nh(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function uh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new it(X.INVALID_ARGUMENT,p+r+g)}function m1(r,t){return r.some((n=>n.isEqual(t)))}class p1{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nN extends p1{data(){return super.data()}}function Tp(r,t){return typeof t=="string"?vp(r,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function iN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class g1 extends Ep{}function rN(r,t,...n){let s=[];t instanceof Ep&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((g=>g instanceof Sp)).length,p=u.filter((g=>g instanceof Ap)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ap extends g1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Ap(t,n,s)}_apply(t){const n=this._parse(t);return y1(t._query,n),new Ws(t.firestore,t.converter,ym(t._query,n))}_parse(t){const n=yp(t.firestore);return(function(u,d,p,g,y,E,S){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){jT(S,E);const Z=[];for(const et of S)Z.push(zT(g,u,et));D={arrayValue:{values:Z}}}else D=zT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||jT(S,E),D=tN(p,d,S,E==="in"||E==="not-in");return Ce.create(y,E,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Sp extends Ep{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)y1(d,g),d=ym(d,g)})(t._query,n),new Ws(t.firestore,t.converter,ym(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends g1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new bp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(u,d)})(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function sN(r,t="asc"){const n=t,s=Tp("orderBy",r);return bp._create(s,n)}function zT(r,t,n){if(typeof(n=ye(n))=="string"){if(n==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(t)&&n.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!ut.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wv(r,new ut(s))}if(n instanceof Ne)return Wv(r,n._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function jT(r,t){if(!Array.isArray(r)||r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function y1(r,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class aN{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return rs(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[eh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Oi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Th(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(zE(s),9688,{name:t});const l=new Pl(s.get(1),s.get(3)),u=new ut(s.popFirst(5));return l.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function oN(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Il{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends p1{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Tp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:De("string",Hs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Fc extends Hs{data(t={}){return super.data(t)}}class Ja{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Fc(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:lN(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:De("string",Ja._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class _1 extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function BT(r,t,n,...s){r=Xr(r,Ne);const l=Xr(r.firestore,oo),u=yp(l);let d;return d=typeof(t=ye(t))=="string"||t instanceof Nh?WD(u,"updateDoc",r._key,t,n,s):JD(u,"updateDoc",r._key,t),wp(l,[d.toMutation(r._key,ei.exists(!0))])}function uN(r){return wp(Xr(r.firestore,oo),[new Jm(r._key,ei.none())])}function cN(r,t){const n=Xr(r.firestore,oo),s=Hc(r),l=oN(r.converter,t);return wp(n,[ZD(yp(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then((()=>s))}function hN(r,...t){r=ye(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||PT(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,d,p;if(r instanceof Ne)d=Xr(r.firestore,oo),p=$m(r._key.path),u={next:g=>{t[s]&&t[s](fN(d,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Xr(r,Ws);d=Xr(g.firestore,oo),p=g._query;const y=new _1(d);u={next:E=>{t[s]&&t[s](new Ja(d,y,g,E))},error:t[s+1],complete:t[s+2]},iN(r._query)}return(function(y,E,S,D){const B=new BD(D),Z=new AD(E,B,S);return y.asyncQueue.enqueueAndForget((async()=>_D(await NT(y),Z))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>vD(await NT(y),Z)))}})(u1(d),p,l,u)}function wp(r,t){return(function(s,l){const u=new qs;return s.asyncQueue.enqueueAndForget((async()=>MD(await FD(s),l,u))),u.promise})(u1(r),t)}function fN(r,t,n){const s=n.docs.get(t._key),l=new _1(r);return new Hs(r,l,t._key,s,new Il(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){ho=l})(uo),xi(new ni("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new oo(new $2(s.getProvider("auth-internal")),new W2(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,E)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),zn(jv,Bv,t),zn(jv,Bv,"esm2020")})();const v1="@firebase/installations",Rp="0.6.19";const T1=1e4,E1=`w:${Rp}`,A1="FIS_v2",dN="https://firebaseinstallations.googleapis.com/v1",mN=3600*1e3,pN="installations",gN="Installations";const yN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new Xs(pN,gN,yN);function S1(r){return r instanceof ri&&r.code.includes("request-failed")}function b1({projectId:r}){return`${dN}/projects/${r}/installations`}function w1(r){return{token:r.token,requestStatus:2,expiresIn:vN(r.expiresIn),creationTime:Date.now()}}async function R1(r,t){const s=(await t.json()).error;return Ys.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function I1({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function _N(r,{refreshToken:t}){const n=I1(r);return n.append("Authorization",TN(t)),n}async function C1(r){const t=await r();return t.status>=500&&t.status<600?r():t}function vN(r){return Number(r.replace("s","000"))}function TN(r){return`${A1} ${r}`}async function EN({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=b1(r),l=I1(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={fid:n,authVersion:A1,appId:r.appId,sdkVersion:E1},p={method:"POST",headers:l,body:JSON.stringify(d)},g=await C1(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:w1(y.authToken)}}else throw await R1("Create Installation",g)}function D1(r){return new Promise(t=>{setTimeout(t,r)})}function AN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const SN=/^[cdef][\w-]{21}$/,Dm="";function bN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=wN(r);return SN.test(n)?n:Dm}catch{return Dm}}function wN(r){return AN(r).substr(0,22)}function Mh(r){return`${r.appName}!${r.appId}`}const N1=new Map;function O1(r,t){const n=Mh(r);M1(n,t),RN(n,t)}function M1(r,t){const n=N1.get(r);if(n)for(const s of n)s(t)}function RN(r,t){const n=IN();n&&n.postMessage({key:r,fid:t}),CN()}let js=null;function IN(){return!js&&"BroadcastChannel"in self&&(js=new BroadcastChannel("[Firebase] FID Change"),js.onmessage=r=>{M1(r.data.key,r.data.fid)}),js}function CN(){N1.size===0&&js&&(js.close(),js=null)}const DN="firebase-installations-database",NN=1,Ks="firebase-installations-store";let Jd=null;function Ip(){return Jd||(Jd=h0(DN,NN,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Ks)}}})),Jd}async function ch(r,t){const n=Mh(r),l=(await Ip()).transaction(Ks,"readwrite"),u=l.objectStore(Ks),d=await u.get(n);return await u.put(t,n),await l.done,(!d||d.fid!==t.fid)&&O1(r,t.fid),t}async function x1(r){const t=Mh(r),s=(await Ip()).transaction(Ks,"readwrite");await s.objectStore(Ks).delete(t),await s.done}async function xh(r,t){const n=Mh(r),l=(await Ip()).transaction(Ks,"readwrite"),u=l.objectStore(Ks),d=await u.get(n),p=t(d);return p===void 0?await u.delete(n):await u.put(p,n),await l.done,p&&(!d||d.fid!==p.fid)&&O1(r,p.fid),p}async function Cp(r){let t;const n=await xh(r.appConfig,s=>{const l=ON(s),u=MN(r,l);return t=u.registrationPromise,u.installationEntry});return n.fid===Dm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function ON(r){const t=r||{fid:bN(),registrationStatus:0};return V1(t)}function MN(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ys.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=xN(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:VN(r)}:{installationEntry:t}}async function xN(r,t){try{const n=await EN(r,t);return ch(r.appConfig,n)}catch(n){throw S1(n)&&n.customData.serverCode===409?await x1(r.appConfig):await ch(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function VN(r){let t=await qT(r.appConfig);for(;t.registrationStatus===1;)await D1(100),t=await qT(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Cp(r);return s||n}return t}function qT(r){return xh(r,t=>{if(!t)throw Ys.create("installation-not-found");return V1(t)})}function V1(r){return kN(r)?{fid:r.fid,registrationStatus:0}:r}function kN(r){return r.registrationStatus===1&&r.registrationTime+T1<Date.now()}async function UN({appConfig:r,heartbeatServiceProvider:t},n){const s=LN(r,n),l=_N(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const d={installation:{sdkVersion:E1,appId:r.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},g=await C1(()=>fetch(s,p));if(g.ok){const y=await g.json();return w1(y)}else throw await R1("Generate Auth Token",g)}function LN(r,{fid:t}){return`${b1(r)}/${t}/authTokens:generate`}async function Dp(r,t=!1){let n;const s=await xh(r.appConfig,u=>{if(!k1(u))throw Ys.create("not-registered");const d=u.authToken;if(!t&&jN(d))return u;if(d.requestStatus===1)return n=PN(r,t),u;{if(!navigator.onLine)throw Ys.create("app-offline");const p=qN(u);return n=zN(r,p),p}});return n?await n:s.authToken}async function PN(r,t){let n=await HT(r.appConfig);for(;n.authToken.requestStatus===1;)await D1(100),n=await HT(r.appConfig);const s=n.authToken;return s.requestStatus===0?Dp(r,t):s}function HT(r){return xh(r,t=>{if(!k1(t))throw Ys.create("not-registered");const n=t.authToken;return HN(n)?{...t,authToken:{requestStatus:0}}:t})}async function zN(r,t){try{const n=await UN(r,t),s={...t,authToken:n};return await ch(r.appConfig,s),n}catch(n){if(S1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x1(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await ch(r.appConfig,s)}throw n}}function k1(r){return r!==void 0&&r.registrationStatus===2}function jN(r){return r.requestStatus===2&&!BN(r)}function BN(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+mN}function qN(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function HN(r){return r.requestStatus===1&&r.requestTime+T1<Date.now()}async function FN(r){const t=r,{installationEntry:n,registrationPromise:s}=await Cp(t);return s?s.catch(console.error):Dp(t).catch(console.error),n.fid}async function GN(r,t=!1){const n=r;return await QN(n),(await Dp(n,t)).token}async function QN(r){const{registrationPromise:t}=await Cp(r);t&&await t}function YN(r){if(!r||!r.options)throw Wd("App Configuration");if(!r.name)throw Wd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw Wd(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Wd(r){return Ys.create("missing-app-config-values",{valueName:r})}const U1="installations",KN="installations-internal",XN=r=>{const t=r.getProvider("app").getImmediate(),n=YN(t),s=$s(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$N=r=>{const t=r.getProvider("app").getImmediate(),n=$s(t,U1).getImmediate();return{getId:()=>FN(n),getToken:l=>GN(n,l)}};function ZN(){xi(new ni(U1,XN,"PUBLIC")),xi(new ni(KN,$N,"PRIVATE"))}ZN();zn(v1,Rp);zn(v1,Rp,"esm2020");const hh="analytics",JN="firebase_id",WN="origin",t4=60*1e3,e4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Np="https://www.googletagmanager.com/gtag/js";const nn=new dh("@firebase/analytics");const n4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Xs("analytics","Analytics",n4);function i4(r){if(!r.startsWith(Np)){const t=bn.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(t.message),""}return r}function L1(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function r4(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function s4(r,t){const n=r4("firebase-js-sdk-policy",{createScriptURL:i4}),s=document.createElement("script"),l=`${Np}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function a4(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function o4(r,t,n,s,l,u){const d=s[l];try{if(d)await t[d];else{const g=(await L1(n)).find(y=>y.measurementId===l);g&&await t[g.appId]}}catch(p){nn.error(p)}r("config",l,u)}async function l4(r,t,n,s,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const p=await L1(n);for(const g of d){const y=p.find(S=>S.measurementId===g),E=y&&t[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,l||{})}catch(u){nn.error(u)}}function u4(r,t,n,s){async function l(u,...d){try{if(u==="event"){const[p,g]=d;await l4(r,t,n,p,g)}else if(u==="config"){const[p,g]=d;await o4(r,t,n,s,p,g)}else if(u==="consent"){const[p,g]=d;r("consent",p,g)}else if(u==="get"){const[p,g,y]=d;r("get",p,g,y)}else if(u==="set"){const[p]=d;r("set",p)}else r(u,...d)}catch(p){nn.error(p)}}return l}function c4(r,t,n,s,l){let u=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=u4(u,r,t,n),{gtagCore:u,wrappedGtag:window[l]}}function h4(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Np)&&n.src.includes(r))return n;return null}const f4=30,d4=1e3;class m4{constructor(t={},n=d4){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const P1=new m4;function p4(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function g4(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:p4(n)},l=e4.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();p.error?.message&&(d=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function y4(r,t=P1,n){const{appId:s,apiKey:l,measurementId:u}=r.options;if(!s)throw bn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw bn.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new T4;return setTimeout(async()=>{p.abort()},t4),z1({appId:s,apiKey:l,measurementId:u},d,p,t)}async function z1(r,{throttleEndTimeMillis:t,backoffCount:n},s,l=P1){const{appId:u,measurementId:d}=r;try{await _4(s,t)}catch(p){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{const p=await g4(r);return l.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!v4(g)){if(l.deleteThrottleMetadata(u),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw p}const y=Number(g?.customData?.httpStatus)===503?dv(n,l.intervalMillis,f4):dv(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return l.setThrottleMetadata(u,E),nn.debug(`Calling attemptFetch again in ${y} millis`),z1(r,E,s,l)}}function _4(r,t){return new Promise((n,s)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(u),s(bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function v4(r){if(!(r instanceof ri)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class T4{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function E4(r,t,n,s,l){if(l&&l.global){r("event",n,s);return}else{const u=await t,d={...s,send_to:u};r("event",n,d)}}async function A4(r,t,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function S4(){if(o0())try{await l0()}catch(r){return nn.warn(bn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return nn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b4(r,t,n,s,l,u,d){const p=y4(r);p.then(D=>{n[D.measurementId]=D.appId,r.options.measurementId&&D.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>nn.error(D)),t.push(p);const g=S4().then(D=>{if(D)return s.getId()}),[y,E]=await Promise.all([p,g]);h4(u)||s4(u,y.measurementId),l("js",new Date);const S=d?.config??{};return S[WN]="firebase",S.update=!0,E!=null&&(S[JN]=E),l("config",y.measurementId,S),y.measurementId}class w4{constructor(t){this.app=t}_delete(){return delete Wa[this.app.options.appId],Promise.resolve()}}let Wa={},FT=[];const GT={};let tm="dataLayer",R4="gtag",QT,Op,YT=!1;function I4(){const r=[];if(a0()&&r.push("This is a browser extension environment."),Rb()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:t});nn.warn(n.message)}}function C4(r,t,n){I4();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Wa[s]!=null)throw bn.create("already-exists",{id:s});if(!YT){a4(tm);const{wrappedGtag:u,gtagCore:d}=c4(Wa,FT,GT,tm,R4);Op=u,QT=d,YT=!0}return Wa[s]=b4(r,FT,GT,t,QT,tm,n),new w4(r)}function D4(r=Mm()){r=ye(r);const t=$s(r,hh);return t.isInitialized()?t.getImmediate():N4(r)}function N4(r,t={}){const n=$s(r,hh);if(n.isInitialized()){const l=n.getImmediate();if(Zr(t,n.getOptions()))return l;throw bn.create("already-initialized")}return n.initialize({options:t})}function O4(r,t,n){r=ye(r),A4(Op,Wa[r.app.options.appId],t,n).catch(s=>nn.error(s))}function M4(r,t,n,s){r=ye(r),E4(Op,Wa[r.app.options.appId],t,n,s).catch(l=>nn.error(l))}const KT="@firebase/analytics",XT="0.10.19";function x4(){xi(new ni(hh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return C4(s,l,n)},"PUBLIC")),xi(new ni("analytics-internal",r,"PRIVATE")),zn(KT,XT),zn(KT,XT,"esm2020");function r(t){try{const n=t.getProvider(hh).getImmediate();return{logEvent:(s,l,u)=>M4(n,s,l,u),setUserProperties:(s,l)=>O4(n,s,l)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}x4();const V4={apiKey:"AIzaSyBhdqfDfCmYgASoge0XWziAYsLErebUAyU",authDomain:"prompttools-74e35.firebaseapp.com",projectId:"prompttools-74e35",storageBucket:"prompttools-74e35.firebasestorage.app",messagingSenderId:"528564800062",appId:"1:528564800062:web:c72ff6ee3c4243ef1d1f6f",measurementId:"G-5E8XYRGY0F"},Mp=f0(V4),em=Q2(Mp),Sl=QD(Mp);D4(Mp);const j1=Wt.createContext();function Vh(){return Wt.useContext(j1)}function k4({children:r}){const[t,n]=Wt.useState(null),[s,l]=Wt.useState(!0);Wt.useEffect(()=>VR(em,y=>{n(y),l(!1)}),[]);const p={currentUser:t,signInWithGoogle:()=>{const g=new er;return e2(em,g)},signOut:()=>kR(em)};return Q.jsx(j1.Provider,{value:p,children:!s&&r})}function U4({searchQuery:r,setSearchQuery:t,selectedCategory:n,setSelectedCategory:s,categories:l,onAddNew:u,tags:d,selectedTag:p,onTagSelect:g,theme:y,toggleTheme:E}){const{currentUser:S,signOut:D}=Vh();return Q.jsxs("div",{className:"glass sidebar",style:{padding:"24px",borderRadius:"16px",height:"100%",display:"flex",flexDirection:"column"},children:[Q.jsx("div",{style:{marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:Q.jsxs("div",{children:[Q.jsx("h1",{className:"text-gradient",style:{fontSize:"24px",fontWeight:"bold",marginBottom:"2px",letterSpacing:"-0.5px"},children:"Benson's PromptBox"}),Q.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:"v1.0.0"})]})}),Q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",marginBottom:"24px"},children:[Q.jsx("img",{src:S?.photoURL,alt:"User",style:{width:"32px",height:"32px",borderRadius:"50%"}}),Q.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[Q.jsx("div",{style:{fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S?.displayName}),Q.jsxs("button",{onClick:D,style:{fontSize:"11px",color:"#ef4444",background:"none",border:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",marginTop:"2px"},children:[Q.jsx(BS,{size:10}),"Sign Out"]})]})]}),Q.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:"24px",justifyContent:"center",padding:"12px"},onClick:u,children:[Q.jsx(XS,{size:20}),"New Prompt"]}),Q.jsxs("div",{style:{position:"relative",marginBottom:"32px"},children:[Q.jsx(ZS,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),Q.jsx("input",{type:"text",placeholder:"Search prompts...",value:r,onChange:B=>t(B.target.value),style:{width:"100%",paddingLeft:"40px",background:"rgba(0,0,0,0.2)"}})]}),Q.jsxs("div",{className:"nav-menu",style:{flex:1,overflowY:"auto"},children:[Q.jsx("div",{className:"nav-label",style:{fontSize:"11px",textTransform:"uppercase",color:"var(--text-secondary)",marginBottom:"12px",fontWeight:"600",letterSpacing:"1px"},children:"Library"}),Q.jsx(nm,{icon:Q.jsx(zS,{size:18}),label:"All Prompts",active:n==="all",onClick:()=>s("all")}),Q.jsx(nm,{icon:Q.jsx(ZT,{size:18}),label:"Favorites",active:n==="favorites",onClick:()=>s("favorites")}),Q.jsx("div",{className:"nav-label",style:{fontSize:"11px",textTransform:"uppercase",color:"var(--text-secondary)",margin:"32px 0 12px",fontWeight:"600",letterSpacing:"1px"},children:"Categories"}),l.length===0&&Q.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",fontStyle:"italic",paddingLeft:"12px"},children:"No categories yet"}),l.map(B=>Q.jsx(nm,{icon:Q.jsx(nb,{size:16}),label:B,active:n===B,onClick:()=>s(B)},B)),Q.jsx("div",{className:"nav-label",style:{fontSize:"11px",textTransform:"uppercase",color:"var(--text-secondary)",margin:"32px 0 12px",fontWeight:"600",letterSpacing:"1px"},children:"Hashtags"}),d?.length===0&&Q.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",fontStyle:"italic",paddingLeft:"12px"},children:"No tags yet"}),Q.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",padding:"0 4px"},children:d?.map(B=>Q.jsxs("button",{onClick:()=>g(B),style:{fontSize:"12px",padding:"4px 10px",borderRadius:"20px",background:p===B?"var(--primary-color)":"rgba(255, 255, 255, 0.05)",color:p===B?"#fff":"var(--text-secondary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Z=>{p!==B&&(Z.currentTarget.style.background="rgba(255, 255, 255, 0.1)",Z.currentTarget.style.color="var(--text-color)")},onMouseLeave:Z=>{p!==B&&(Z.currentTarget.style.background="rgba(255, 255, 255, 0.05)",Z.currentTarget.style.color="var(--text-secondary)")},children:["#",B]},B))})]}),Q.jsx("div",{style:{padding:"12px 0",borderTop:"1px solid var(--glass-border)",marginTop:"12px"},children:Q.jsxs("button",{onClick:E,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"var(--text-secondary)",transition:"all 0.2s"},onMouseEnter:B=>{B.currentTarget.style.background="var(--glass-bg-hover)",B.currentTarget.style.color="var(--text-color)"},onMouseLeave:B=>{B.currentTarget.style.background="transparent",B.currentTarget.style.color="var(--text-secondary)"},children:[y==="dark"?Q.jsx(GS,{size:16}):Q.jsx(tb,{size:16}),Q.jsx("span",{style:{fontSize:"14px"},children:y==="dark"?"Dark Mode":"Light Mode"})]})})]})}function nm({icon:r,label:t,active:n,onClick:s}){return Q.jsxs("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"12px 16px",background:n?"var(--glass-bg-hover)":"transparent",border:n?"1px solid var(--primary-color)":"1px solid transparent",borderRadius:"12px",color:n?"var(--text-color)":"var(--text-secondary)",marginBottom:"8px",textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:l=>{n||(l.currentTarget.style.background="var(--glass-bg)",l.currentTarget.style.color="var(--text-color)")},onMouseLeave:l=>{n||(l.currentTarget.style.background="transparent",l.currentTarget.style.color="var(--text-secondary)")},children:[r,Q.jsx("span",{style:{fontSize:"14px",fontWeight:n?"500":"400"},children:t})]})}function L4({prompt:r,onEdit:t,onDelete:n,onToggleFavorite:s,onTagClick:l}){const[u,d]=Wt.useState(!1),p=()=>{navigator.clipboard.writeText(r.content),d(!0),setTimeout(()=>d(!1),2e3)};return Q.jsxs("div",{className:"glass",style:{padding:"24px",borderRadius:"16px",display:"flex",flexDirection:"column",height:"100%",position:"relative",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 10px 40px -10px rgba(0,0,0,0.3)"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="var(--glass-shadow)"},children:[Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[Q.jsxs("div",{style:{flex:1,marginRight:"12px"},children:[Q.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px",lineHeight:"1.3"},children:r.title}),Q.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[Q.jsx("span",{style:{fontSize:"11px",padding:"4px 10px",borderRadius:"20px",background:"rgba(99, 102, 241, 0.2)",color:"#a5b4fc",fontWeight:"500"},children:r.category||"Uncategorized"}),r.tags?.map(g=>Q.jsxs("span",{onClick:y=>{y.stopPropagation(),l?.(g)},style:{fontSize:"11px",padding:"4px 10px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.1)",color:"var(--text-secondary)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:y=>y.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:y=>y.target.style.background="rgba(255, 255, 255, 0.1)",children:["#",g]},g))]})]}),Q.jsx("button",{className:"btn-icon",onClick:()=>s(r.id),style:{color:r.isFavorite?"#fbbf24":"var(--text-secondary)",flexShrink:0},children:Q.jsx(ZT,{size:20,fill:r.isFavorite?"#fbbf24":"none"})})]}),Q.jsx("div",{style:{flex:1,background:"rgba(0,0,0,0.2)",padding:"16px",borderRadius:"12px",marginBottom:"20px",fontSize:"14px",lineHeight:"1.6",color:"#e2e8f0",whiteSpace:"pre-wrap",maxHeight:"240px",overflowY:"auto",fontFamily:"monospace"},children:r.content}),Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},children:[Q.jsxs("button",{className:"btn",onClick:p,style:{background:u?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)",color:u?"#34d399":"var(--text-color)",fontSize:"13px",padding:"8px 16px",border:u?"1px solid rgba(16, 185, 129, 0.3)":"1px solid transparent"},children:[u?Q.jsx(kS,{size:16}):Q.jsx(LS,{size:16}),u?"Copied!":"Copy"]}),Q.jsxs("div",{style:{display:"flex",gap:"4px"},children:[Q.jsx("button",{className:"btn-icon",onClick:()=>t(r),title:"Edit",children:Q.jsx(YS,{size:18})}),Q.jsx("button",{className:"btn-icon",onClick:()=>n(r.id),style:{color:"#ef4444"},title:"Delete",children:Q.jsx(rb,{size:18})})]})]})]})}function P4({prompts:r,onEdit:t,onDelete:n,onToggleFavorite:s,onTagClick:l}){return r.length===0?Q.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-secondary)"},children:[Q.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5},children:""}),Q.jsx("h3",{style:{fontSize:"20px",marginBottom:"8px",color:"var(--text-color)"},children:"No prompts found"}),Q.jsx("p",{children:"Try adjusting your search or add a new prompt."})]}):Q.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"24px",paddingBottom:"40px"},children:r.map(u=>Q.jsx(L4,{prompt:u,onEdit:t,onDelete:n,onToggleFavorite:s,onTagClick:l},u.id))})}function z4({isOpen:r,onClose:t,onSave:n,initialData:s,categories:l}){const[u,d]=Wt.useState({title:"",content:"",category:"",tags:""});if(Wt.useEffect(()=>{d(s?{title:s.title,content:s.content,category:s.category||"",tags:s.tags?s.tags.join(", "):""}:{title:"",content:"",category:"",tags:""})},[s,r]),!r)return null;const p=g=>{g.preventDefault();const y=u.tags.split(",").map(E=>E.trim()).filter(E=>E);n({...u,tags:y}),t()};return Q.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",animation:"fadeIn 0.2s ease-out"},onClick:t,children:[Q.jsxs("div",{className:"glass",style:{width:"100%",maxWidth:"600px",padding:"32px",borderRadius:"24px",background:"#1e293b",border:"1px solid var(--glass-border)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",transform:"scale(1)",animation:"scaleIn 0.2s ease-out"},onClick:g=>g.stopPropagation(),children:[Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[Q.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:s?"Edit Prompt":"New Prompt"}),Q.jsx("button",{className:"btn-icon",onClick:t,children:Q.jsx(ab,{size:24})})]}),Q.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[Q.jsxs("div",{children:[Q.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Title"}),Q.jsx("input",{type:"text",required:!0,value:u.title,onChange:g=>d({...u,title:g.target.value}),style:{width:"100%"},placeholder:"e.g., Midjourney Portrait",autoFocus:!0})]}),Q.jsxs("div",{children:[Q.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Category"}),Q.jsx("input",{type:"text",list:"categories",value:u.category,onChange:g=>d({...u,category:g.target.value}),style:{width:"100%"},placeholder:"e.g., Image Generation"}),Q.jsx("datalist",{id:"categories",children:l.map(g=>Q.jsx("option",{value:g},g))})]}),Q.jsxs("div",{children:[Q.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Prompt Content"}),Q.jsx("textarea",{required:!0,value:u.content,onChange:g=>d({...u,content:g.target.value}),style:{width:"100%",minHeight:"150px",fontFamily:"monospace",lineHeight:"1.5"},placeholder:"Enter your prompt here..."})]}),Q.jsxs("div",{children:[Q.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Tags (comma separated)"}),Q.jsx("input",{type:"text",value:u.tags,onChange:g=>d({...u,tags:g.target.value}),style:{width:"100%"},placeholder:"portrait, lighting, 8k"})]}),Q.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"12px"},children:[Q.jsx("button",{type:"button",className:"btn",onClick:t,style:{background:"transparent",color:"var(--text-secondary)"},children:"Cancel"}),Q.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Prompt"})]})]})]}),Q.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
      `})]})}function j4(){const[r,t]=Wt.useState([]),{currentUser:n}=Vh();return Wt.useEffect(()=>{if(!n){t([]);return}const p=VT(Sl,"users",n.uid,"prompts"),g=rN(p,sN("createdAt","desc"));return hN(g,E=>{const S=E.docs.map(D=>({id:D.id,...D.data()}));t(S)},E=>{console.error("Error fetching prompts: ",E)})},[n]),{prompts:r,addPrompt:async p=>{if(n)try{await cN(VT(Sl,"users",n.uid,"prompts"),{...p,createdAt:Date.now(),updatedAt:Date.now(),isFavorite:!1,tags:p.tags||[]})}catch(g){console.error("Error adding prompt: ",g)}},updatePrompt:async(p,g)=>{if(n)try{const y=Hc(Sl,"users",n.uid,"prompts",p);await BT(y,{...g,updatedAt:Date.now()})}catch(y){console.error("Error updating prompt: ",y)}},deletePrompt:async p=>{if(n)try{await uN(Hc(Sl,"users",n.uid,"prompts",p))}catch(g){console.error("Error deleting prompt: ",g)}},toggleFavorite:async p=>{if(!n)return;const g=r.find(y=>y.id===p);if(g)try{const y=Hc(Sl,"users",n.uid,"prompts",p);await BT(y,{isFavorite:!g.isFavorite})}catch(y){console.error("Error toggling favorite: ",y)}}}}function B4(){const{signInWithGoogle:r}=Vh(),[t,n]=ES.useState(""),s=async()=>{try{n(""),await r()}catch(l){console.error(l),n("Failed to sign in with Google. Check console for details.")}};return Q.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #0f172a, #1e1b4b)",color:"#fff",padding:"20px"},children:[Q.jsxs("div",{className:"glass",style:{padding:"48px",borderRadius:"24px",textAlign:"center",maxWidth:"400px",width:"100%",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)"},children:[Q.jsx("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"center"},children:Q.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #6366f1, #a855f7)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px"},children:""})}),Q.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"12px"},children:"PromptBox"}),Q.jsx("p",{style:{color:"#94a3b8",marginBottom:"40px",lineHeight:"1.6"},children:"Manage your AI prompts in the cloud. Sign in to sync your collection across devices."}),t&&Q.jsx("div",{style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#fca5a5",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"14px"},children:t}),Q.jsxs("button",{onClick:s,className:"btn",style:{width:"100%",justifyContent:"center",padding:"16px",fontSize:"16px",background:"#fff",color:"#0f172a",fontWeight:"600"},children:[Q.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"G",style:{width:"20px",height:"20px",marginRight:"12px"}}),"Sign in with Google"]})]}),Q.jsx("div",{style:{marginTop:"24px",color:"#64748b",fontSize:"12px"},children:"Benson's PromptBox 2025."})]})}function q4(){const{prompts:r,addPrompt:t,updatePrompt:n,deletePrompt:s,toggleFavorite:l}=j4(),{currentUser:u}=Vh(),[d,p]=Wt.useState("dark"),[g,y]=Wt.useState(""),[E,S]=Wt.useState("all"),[D,B]=Wt.useState(null);Wt.useMemo(()=>{document.documentElement.setAttribute("data-theme",d)},[d]);const Z=()=>{p(b=>b==="dark"?"light":"dark")},[et,J]=Wt.useState(!1),[ct,yt]=Wt.useState(null),[ft,Ut]=Wt.useState(!1),Kt=Wt.useMemo(()=>{const b=new Set(r.map(qt=>qt.category).filter(Boolean));return Array.from(b).sort()},[r]),Mt=Wt.useMemo(()=>{const b=new Set(r.flatMap(qt=>qt.tags||[]));return Array.from(b).sort()},[r]),C=Wt.useMemo(()=>r.filter(b=>{const qt=b.title.toLowerCase().includes(g.toLowerCase())||b.content.toLowerCase().includes(g.toLowerCase())||b.tags.some(tt=>tt.toLowerCase().includes(g.toLowerCase())),he=E==="all"?!0:E==="favorites"?b.isFavorite:b.category===E,H=D?b.tags?.includes(D):!0;return qt&&he&&H}),[r,g,E,D]),w=b=>{ct?n(ct.id,b):t(b)},I=b=>{yt(b),J(!0)},x=()=>{yt(null),J(!0)},O=b=>{S(b),B(null),Ut(!1)},k=b=>{B(b),S("all"),Ut(!1)};return u?Q.jsxs("div",{className:"app-container",children:[Q.jsxs("div",{className:"header-mobile",children:[Q.jsx("h1",{className:"text-gradient",style:{fontSize:"24px",fontWeight:"bold"},children:"PromptBox"}),Q.jsx("button",{className:"btn-icon",onClick:()=>Ut(!ft),children:Q.jsx(HS,{size:24})})]}),Q.jsx("div",{className:`sidebar-container ${ft?"mobile-open":""}`,children:Q.jsx(U4,{searchQuery:g,setSearchQuery:y,selectedCategory:E,setSelectedCategory:O,categories:Kt,onAddNew:x,tags:Mt,selectedTag:D,onTagSelect:k,theme:d,toggleTheme:Z})}),Q.jsxs("main",{className:"main-content",children:[Q.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:Q.jsxs("h2",{style:{fontSize:"24px",fontWeight:"600"},children:[D?`# ${D}`:E==="all"?"All Prompts":E==="favorites"?"Favorites":E,Q.jsxs("span",{style:{fontSize:"14px",color:"var(--text-secondary)",marginLeft:"12px",fontWeight:"normal"},children:[C.length," items"]})]})}),Q.jsx(P4,{prompts:C,onEdit:I,onDelete:s,onToggleFavorite:l,onTagClick:k})]}),Q.jsx(z4,{isOpen:et,onClose:()=>J(!1),onSave:w,initialData:ct,categories:Kt}),ft&&Q.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:90},onClick:()=>Ut(!1)})]}):Q.jsx(B4,{})}function H4(){return Q.jsx(k4,{children:Q.jsx(q4,{})})}CS.createRoot(document.getElementById("root")).render(Q.jsx(Wt.StrictMode,{children:Q.jsx(H4,{})}));
